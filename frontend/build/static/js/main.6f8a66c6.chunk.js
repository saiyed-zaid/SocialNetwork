(this.webpackJsonpsocialnetwork=this.webpackJsonpsocialnetwork||[]).push([[0],{18:function(e,t){e.exports="data:image/jpeg;base64,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"},263:function(e,t,a){e.exports=a(645)},30:function(e,t,a){e.exports=a.p+"static/media/post.94c0c57d.jpg"},576:function(e,t){},644:function(e,t,a){},645:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),s=a(59),o=a.n(s),c=a(8),l=a(9),i=a(11),u=a(10),p=a(1),d=a.n(p),m=a(4),h=a(24),f=a(12),v=a(18),b=a.n(v),g=a(30),E=a.n(g),y=function(){return"undefined"!=typeof window&&(!!localStorage.getItem("jwt")&&JSON.parse(localStorage.getItem("jwt")))},w=function(){var e=Object(m.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("https://retwit-backend.herokuapp.com","/api/forgot-password/"),{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({email:t})});case 2:return a=e.sent,e.next=5,a.json();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),k=a(45),A=a.n(k),x=a(252),N=a.n(x),j=(a(289),a(290),function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return(e=t.call.apply(t,[this].concat(n))).getExt=function(e){return e.split("?")[0].split("#")[0].split(".").pop()},e}return Object(l.a)(a,[{key:"render",value:function(){var e=this;return n.a.createElement("div",null,n.a.createElement(N.a,{items:1,className:"owl-theme",loop:!0,mergeFit:"false",video:!0},this.props.images.map((function(t,a){return"mp4"===e.getExt(t)?n.a.createElement("video",{className:" w-100",controls:!0,key:a},n.a.createElement("source",{src:t,type:"video/mp4"}),"Your browser does not support the video tag."):n.a.createElement("img",{id:a+"sdf",key:a+"sdf",src:t,className:"d-block w-100",alt:"post ",onError:function(e){return e.target.src="".concat(E.a)}})}))))}}]),a}(r.Component)),S=a(13),C=a(14),O=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return(e=t.call.apply(t,[this].concat(n))).getExt=function(e){return e.split("?")[0].split("#")[0].split(".").pop()},e}return Object(l.a)(a,[{key:"render",value:function(){var e=this,t=this.props.post,a=t.postedBy?"/user/".concat(t.postedBy._id):"",r=t.postedBy?t.postedBy.name:"Unknown";return n.a.createElement("div",{className:"col-md-6 card-body m-2",style:{backgroundColor:"#1f2022",color:"#c0c8d0"}},n.a.createElement("div",{className:"post"},n.a.createElement("div",{className:"user-block"},n.a.createElement("img",{className:"rounded-circle",src:t.postedBy.photo?t.postedBy.photo.photoURI:b.a,alt:r,onError:function(e){return e.target.src=b.a}}),n.a.createElement("span",{className:"username text-left"},n.a.createElement(f.b,{to:a},r)," \xa0",t.tags.length>=1&&n.a.createElement("small",{"data-toggle":"tooltip","data-placement":"bottom","data-html":"true",title:t.tags.map((function(e){return e.name+" <br />"}))},"With ",t.tags.length," More")),this.props.profile?n.a.createElement("span",{className:"description pb-3 text-left"},n.a.createElement("div",{className:"btn-group "},n.a.createElement("a",{href:"/",style:{boxShadow:"none",cursor:"pointer"},"data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},t.status?n.a.createElement(n.a.Fragment,null,n.a.createElement(S.a,{icon:C.k})," \xa0",n.a.createElement("small",null,"Public"),"\xa0"):n.a.createElement(n.a.Fragment,null,n.a.createElement(S.a,{icon:C.o})," \xa0",n.a.createElement("small",null,"Private"),"\xa0")),t.postedBy._id===y().user._id&&n.a.createElement("div",{className:"dropdown"},n.a.createElement("div",{className:"dropdown-menu dropdown-menu-right bg-secondary"},n.a.createElement("button",{className:"dropdown-item",type:"button",onClick:function(){return e.props.handlePostStatusChange(t)}},t.status?" Private":"Public")))),"\xa0\xa0",n.a.createElement(A.a,{date:t.created})):n.a.createElement("span",{className:"description pb-3"},"Shared Publicly \xa0\xa0",n.a.createElement(A.a,{date:t.created}))),n.a.createElement("div",{className:"post-media"},t.photo.length>1?n.a.createElement(j,{images:t.photo,index:this.props.index}):"mp4"===this.getExt(t.photo[0])?n.a.createElement("video",{className:" w-100",controls:!0},n.a.createElement("source",{src:t.photo?t.photo[0]:null,type:"video/mp4"}),"Your browser does not support the video tag."):n.a.createElement("img",{className:"card-img-top",src:"".concat(t.photo?t.photo[0]:E.a),onError:function(e){return e.target.src="".concat(E.a)},alt:t.name})),n.a.createElement("div",{className:"d-flex justify-content-start flex-row"},n.a.createElement("div",{className:"mr-2"},n.a.createElement("svg",{className:"bi bi-heart-fill",width:"1em",height:"1em",viewBox:"0 0 16 16",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",style:{color:"red"}},n.a.createElement("path",{fillRule:"evenodd",d:"M8 1.314C12.438-3.248 23.534 4.735 8 15-7.534 4.736 3.562-3.248 8 1.314z",clipRule:"evenodd"})),n.a.createElement("small",null,"\xa0",t.likes.length)),n.a.createElement("div",null,n.a.createElement("svg",{className:"bi bi-chat-quote",width:"1em",height:"1em",viewBox:"0 0 16 16",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},n.a.createElement("path",{fillRule:"evenodd",d:"M2.678 11.894a1 1 0 01.287.801 10.97 10.97 0 01-.398 2c1.395-.323 2.247-.697 2.634-.893a1 1 0 01.71-.074A8.06 8.06 0 008 14c3.996 0 7-2.807 7-6 0-3.192-3.004-6-7-6S1 4.808 1 8c0 1.468.617 2.83 1.678 3.894zm-.493 3.905a21.682 21.682 0 01-.713.129c-.2.032-.352-.176-.273-.362a9.68 9.68 0 00.244-.637l.003-.01c.248-.72.45-1.548.524-2.319C.743 11.37 0 9.76 0 8c0-3.866 3.582-7 8-7s8 3.134 8 7-3.582 7-8 7a9.06 9.06 0 01-2.347-.306c-.52.263-1.639.742-3.468 1.105z",clipRule:"evenodd"}),n.a.createElement("path",{d:"M7.468 7.667c0 .92-.776 1.666-1.734 1.666S4 8.587 4 7.667C4 6.747 4.776 6 5.734 6s1.734.746 1.734 1.667z"}),n.a.createElement("path",{fillRule:"evenodd",d:"M6.157 6.936a.438.438 0 01-.56.293.413.413 0 01-.274-.527c.08-.23.23-.44.477-.546a.891.891 0 01.698.014c.387.16.72.545.923.997.428.948.393 2.377-.942 3.706a.446.446 0 01-.612.01.405.405 0 01-.011-.59c1.093-1.087 1.058-2.158.77-2.794-.152-.336-.354-.514-.47-.563zm-.035-.012h-.001.001z",clipRule:"evenodd"}),n.a.createElement("path",{d:"M11.803 7.667c0 .92-.776 1.666-1.734 1.666-.957 0-1.734-.746-1.734-1.666 0-.92.777-1.667 1.734-1.667.958 0 1.734.746 1.734 1.667z"}),n.a.createElement("path",{fillRule:"evenodd",d:"M10.492 6.936a.438.438 0 01-.56.293.413.413 0 01-.274-.527c.08-.23.23-.44.477-.546a.891.891 0 01.698.014c.387.16.72.545.924.997.428.948.392 2.377-.942 3.706a.446.446 0 01-.613.01.405.405 0 01-.011-.59c1.093-1.087 1.058-2.158.77-2.794-.152-.336-.354-.514-.469-.563zm-.034-.012h-.002.002z",clipRule:"evenodd"})),n.a.createElement("small",null,"\xa0",t.comments.length))),n.a.createElement("h4",{className:"description text-center"},t.title),n.a.createElement("div",null,n.a.createElement("p",{className:"pt-2 text-center"},t.body.substring(0,200)+"...."),y()?n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"row justify-content-center"},n.a.createElement("button",{className:"btn",style:{borderRadius:"20px",backgroundColor:"#0155ca"}},n.a.createElement(f.b,{className:"text-light",to:"/post/".concat(t._id)},"Read More")))):null)))}}]),a}(r.Component),P=function(){return n.a.createElement("div",{className:"text-center text-warning m-5"},n.a.createElement("div",{className:"spinner-border",role:"status"},n.a.createElement("span",{className:"sr-only"},"Loading...")))},I=a(46),B=a(17),U=a.n(B),T=function(){function e(){Object(c.a)(this,e)}return Object(l.a)(e,[{key:"addPost",value:function(){var e=Object(m.a)(d.a.mark((function e(t,a,r,n){var s,o,c,l,i;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s={title:"required|string|max:120|min:5",body:"required|string|max:2000"},o={required:"{{field}} field is required"},e.prev=2,e.next=5,Object(I.validateAll)(a,s,o);case 5:return e.next=7,U()("".concat("https://retwit-backend.herokuapp.com","/api/post/").concat(r),{method:"POST",headers:{Accept:"application/json",Authorization:"Bearer ".concat(n)},data:t});case 7:if(!(c=e.sent).errors){e.next=14;break}return l={},c.errors.forEach((function(e){l.hasOwnProperty(e.param)||(l[e.param]=e.msg)})),e.abrupt("return",Promise.reject(l));case 14:return e.abrupt("return",c);case 15:e.next=22;break;case 17:return e.prev=17,e.t0=e.catch(2),i={},e.t0.forEach((function(e){i[e.field]=e.message})),e.abrupt("return",Promise.reject(i));case 22:case"end":return e.stop()}}),e,null,[[2,17]])})));return function(t,a,r,n){return e.apply(this,arguments)}}()},{key:"fetchPosts",value:function(){var e=Object(m.a)(d.a.mark((function e(){var t,a,r,n,s=arguments;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=s.length>0&&void 0!==s[0]&&s[0],a=s.length>1&&void 0!==s[1]?s[1]:null,r="".concat("https://retwit-backend.herokuapp.com","/api/posts"),t&&a&&(r="".concat("https://retwit-backend.herokuapp.com","/api/admin/posts")),e.next=6,U()(r,{method:"GET",headers:{Accept:"application/json","Content-Type":"Application/json",Authorization:"Bearer ".concat(a)}});case 6:return n=e.sent,e.abrupt("return",n);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"fetchPost",value:function(){var e=Object(m.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,U()("".concat("https://retwit-backend.herokuapp.com","/api/post/").concat(t),{method:"GET"});case 3:return a=e.sent,e.abrupt("return",a);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",Promise.reject(e.t0));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"fetchPostsByUser",value:function(){var e=Object(m.a)(d.a.mark((function e(t,a){var r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,U()("".concat("https://retwit-backend.herokuapp.com","/api/post/by/").concat(t),{method:"GET",headers:{Accept:"application/json","Content-Type":"Application/json",Authorization:"Bearer ".concat(a)}});case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"deletePost",value:function(){var e=Object(m.a)(d.a.mark((function e(t,a){var r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,U()("".concat("https://retwit-backend.herokuapp.com","/api/post/").concat(t),{method:"DELETE",headers:{Accept:"application/json","Content-Type":"Application/json",Authorization:"Bearer ".concat(a)}});case 3:return r=e.sent,e.abrupt("return",r);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",Promise.reject(e.t0));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,a){return e.apply(this,arguments)}}()},{key:"editPost",value:function(){var e=Object(m.a)(d.a.mark((function e(t,a,r,n){var s,o,c,l;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s={title:"required|string|max:120|min:5",body:"required|string|max:2000"},o={required:"{{field}} field is required"},e.prev=2,e.next=5,Object(I.validateAll)(t,s,o);case 5:return e.next=7,U()("".concat("https://retwit-backend.herokuapp.com","/api/post/").concat(r),{method:"PATCH",headers:{Accept:"application/json",Authorization:"Bearer ".concat(n)},data:a});case 7:if(200!==(c=e.sent).status){e.next=12;break}return e.abrupt("return",c);case 12:if(401!==c.status){e.next=16;break}alert("please Login First..."),e.next=17;break;case 16:return e.abrupt("return",Promise.reject(l));case 17:e.next=24;break;case 19:return e.prev=19,e.t0=e.catch(2),l={},e.t0.forEach((function(e){l[e.field]=e.message})),e.abrupt("return",Promise.reject(l));case 24:case"end":return e.stop()}}),e,null,[[2,19]])})));return function(t,a,r,n){return e.apply(this,arguments)}}()},{key:"likePost",value:function(){var e=Object(m.a)(d.a.mark((function e(t,a,r){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,U()("".concat("https://retwit-backend.herokuapp.com","/api/post/like"),{method:"PATCH",headers:{Accept:"application/json","Content-Type":"Application/json",Authorization:"Bearer ".concat(a)},data:JSON.stringify({userId:t,postId:r})});case 3:return n=e.sent,e.abrupt("return",n);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",Promise.reject(e.t0));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,a,r){return e.apply(this,arguments)}}()},{key:"unlikePost",value:function(){var e=Object(m.a)(d.a.mark((function e(t,a,r){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,U()("".concat("https://retwit-backend.herokuapp.com","/api/post/unlike"),{method:"PATCH",headers:{Accept:"application/json","Content-Type":"Application/json",Authorization:"Bearer ".concat(a)},data:JSON.stringify({userId:t,postId:r})});case 3:return n=e.sent,e.abrupt("return",n);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",Promise.reject(e.t0));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,a,r){return e.apply(this,arguments)}}()},{key:"addComment",value:function(){var e=Object(m.a)(d.a.mark((function e(t,a,r,n){var s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,U()("".concat("https://retwit-backend.herokuapp.com","/api/post/comment"),{method:"PATCH",headers:{Accept:"application/json","Content-Type":"Application/json",Authorization:"Bearer ".concat(a)},data:JSON.stringify({userId:t,postId:r,comment:n})});case 3:return s=e.sent,e.abrupt("return",s);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",Promise.reject(e.t0));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,a,r,n){return e.apply(this,arguments)}}()},{key:"removeComment",value:function(){var e=Object(m.a)(d.a.mark((function e(t,a,r,n){var s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,U()("".concat("https://retwit-backend.herokuapp.com","/api/post/uncomment"),{method:"PATCH",headers:{Accept:"application/json","Content-Type":"Application/json",Authorization:"Bearer ".concat(a)},data:JSON.stringify({userId:t,postId:r,comment:n})});case 3:return s=e.sent,e.abrupt("return",s);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",Promise.reject(e.t0));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,a,r,n){return e.apply(this,arguments)}}()},{key:"commentReply",value:function(){var e=Object(m.a)(d.a.mark((function e(t,a,r,n,s){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,U()("".concat("https://retwit-backend.herokuapp.com","/api/post/comment/reply"),{method:"PATCH",headers:{Accept:"application/json","Content-Type":"Application/json",Authorization:"Bearer ".concat(a)},data:JSON.stringify({userId:t,postId:r,reply:n,comment:s})});case 3:e.next=8;break;case 5:return e.prev=5,e.t0=e.catch(0),e.abrupt("return",Promise.reject(e.t0));case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t,a,r,n,s){return e.apply(this,arguments)}}()},{key:"fetchScheduledPosts",value:function(){var e=Object(m.a)(d.a.mark((function e(t,a){var r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,U()("".concat("https://retwit-backend.herokuapp.com","/api/post/schedule/by/").concat(t),{method:"GET",headers:{Accept:"application/json","Content-Type":"Application/json",Authorization:"Bearer ".concat(a)}});case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"deleteScheduledPost",value:function(){var e=Object(m.a)(d.a.mark((function e(t,a){var r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,U()("".concat("https://retwit-backend.herokuapp.com","/api/post/schedule/").concat(t),{method:"DELETE",headers:{Accept:"application/json","Content-Type":"Application/json",Authorization:"Bearer ".concat(a)}});case 3:return r=e.sent,e.abrupt("return",r);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",Promise.reject(e.t0));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,a){return e.apply(this,arguments)}}()},{key:"fetchScheduledPost",value:function(){var e=Object(m.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,U()("".concat("https://retwit-backend.herokuapp.com","/api/post/schedule/edit/").concat(t),{method:"GET"});case 3:return a=e.sent,e.abrupt("return",a);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",Promise.reject(e.t0));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"editScheduledPost",value:function(){var e=Object(m.a)(d.a.mark((function e(t,a,r,n){var s,o,c,l,i;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s={title:"required|string|max:120|min:5",body:"required|string|max:2000"},o={required:"{{field}} field is required"},e.prev=2,e.next=5,Object(I.validateAll)(t,s,o);case 5:return e.prev=5,e.next=8,U()("".concat("https://retwit-backend.herokuapp.com","/api/post/schedule/").concat(r),{method:"PATCH",headers:{Accept:"application/json",Authorization:"Bearer ".concat(n)},data:a});case 8:if(!(c=e.sent).data.errors){e.next=15;break}return l={},c.data.errors.forEach((function(e){l.hasOwnProperty(e.param)||(l[e.param]=e.msg)})),e.abrupt("return",Promise.reject(l));case 15:return e.abrupt("return",c);case 16:e.next=21;break;case 18:return e.prev=18,e.t0=e.catch(5),e.abrupt("return",Promise.reject(e.t0));case 21:e.next=28;break;case 23:return e.prev=23,e.t1=e.catch(2),i={},e.t1.forEach((function(e){i[e.field]=e.message})),e.abrupt("return",Promise.reject(i));case 28:case"end":return e.stop()}}),e,null,[[2,23],[5,18]])})));return function(t,a,r,n){return e.apply(this,arguments)}}()}]),e}(),D=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(c.a)(this,a),(e=t.call(this)).handleExpandClick=function(){e.setState({expanded:!e.state.expanded})},e.state={posts:[],expanded:!1,isLoading:!0,error:""},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=Object(m.a)(d.a.mark((function e(){var t,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new T,e.prev=1,e.next=4,t.fetchPosts();case 4:if(200!==(a=e.sent).status){e.next=9;break}this.setState({posts:a.data.posts,isLoading:!1}),e.next=10;break;case 9:return e.abrupt("return",Promise.reject(a.data.error));case 10:e.next=15;break;case 12:return e.prev=12,e.t0=e.catch(1),e.abrupt("return",Promise.reject(e.t0));case 15:case"end":return e.stop()}}),e,this,[[1,12]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state.posts;return n.a.createElement("div",{className:"row justify-content-md-center"},e.map((function(e,t){return n.a.createElement(O,{key:t,post:e,index:t})})))}}]),a}(r.Component),L=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return(e=t.call.apply(t,[this].concat(n))).scrollFunction=function(){if(document.body.scrollTop>20||document.documentElement.scrollTop>20){var e=document.getElementById("gototop");e&&(e.style.display="block")}else{var t=document.getElementById("gototop");t&&(t.style.display="none")}},e.gotToTop=function(){document.documentElement.scrollTop=0},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this;window.onscroll=function(){return e.scrollFunction()}}},{key:"render",value:function(){return n.a.createElement("button",{onClick:this.gotToTop,id:"gototop",className:"gototop","data-toggle":"tooltip","data-placement":"top",title:"Jump To Top "},n.a.createElement(S.a,{icon:C.c}))}}]),a}(r.Component),M=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(c.a)(this,a),(e=t.call(this)).state={loaderIsLoading:!0},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){document.title="Retwit | HOME"}},{key:"render",value:function(){return n.a.createElement("div",{className:"container"},n.a.createElement("div",{id:"chat-tab",className:"d-flex justify-content-end align-items-end chat-box"}),n.a.createElement(D,null),n.a.createElement(L,null))}}]),a}(r.Component),F=a(20),R=a(254),H=a.n(R),J=function(e){return n.a.createElement("div",{style:e.style,className:"alert alert-".concat(e.type),role:"alert"},e.message)},Q=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(e){var r;return Object(c.a)(this,a),(r=t.call(this,e)).handleInputChange=function(e){r.postData.set(e.target.name,e.target.value),r.setState(Object(F.a)({},e.target.name,e.target.value))},r.diff_years=function(e,t){var a=(e.getTime()-t.getTime())/1e3;return a/=86400,Math.abs(Math.round(a/365.25))},r.handleSubmit=function(){var e=Object(m.a)(d.a.mark((function e(t){var a,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),a=new Date,n=new Date(r.state.dob),!(r.diff_years(a,n)>18&&r.state.recatcha)){e.next=18;break}return e.prev=5,r.setState({errors:{},error:""}),e.next=9,r.props.registerUser(r.state);case 9:201===e.sent.status&&r.props.history.push("/signin"),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(5),r.setState({errors:e.t0});case 16:e.next=19;break;case 18:r.setState({errors:{captcha:"Captcha Invalid",dob:"User  Must Be Atleast 18 Years Old"}});case 19:case"end":return e.stop()}}),e,null,[[5,13]])})));return function(t){return e.apply(this,arguments)}}(),r.callback=function(){},r.verifyCallback=function(e){r.setState({recatcha:!0})},r.state={name:"",email:"",password:"",password_confirmation:"",day:0,month:0,year:0,errors:{},responseError:null,recatcha:!1,error:"",dob:""},r.postData=new FormData,r}return Object(l.a)(a,[{key:"render",value:function(){return n.a.createElement("div",{className:"container col-md-4 my-3",style:{backgroundColor:"#343a40"}},n.a.createElement("div",{className:"jumbotron text-light"},this.state.responseError&&n.a.createElement(J,{message:this.state.responseError,type:"danger"}),n.a.createElement("h2",null,"Signup"),n.a.createElement("form",{onSubmit:this.handleSubmit},n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"exampleInputEmail1"},"Name"),n.a.createElement("input",{type:"text",name:"name",onChange:this.handleInputChange,className:"form-control ".concat(this.state.errors.name&&"is-invalid"),id:"exampleInputEmail1","aria-describedby":"emailHelp"}),this.state.errors.name&&n.a.createElement("div",{className:"invalid-feedback"},this.state.errors.name)),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"exampleInputEmail1"},"Email address"),n.a.createElement("input",{type:"email",name:"email",onChange:this.handleInputChange,className:"form-control ".concat(this.state.errors.email&&"is-invalid"),id:"exampleInputEmail1","aria-describedby":"emailHelp"}),this.state.errors.email&&n.a.createElement("div",{className:"invalid-feedback"},this.state.errors.email)),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"exampleInputPassword1"},"Password"),n.a.createElement("input",{type:"password",name:"password",onChange:this.handleInputChange,className:"form-control ".concat(this.state.errors.password&&"is-invalid"),id:"exampleInputPassword1"}),this.state.errors.password&&n.a.createElement("div",{className:"invalid-feedback"},this.state.errors.password)),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"exampleInputPassword1"},"Confirm Password"),n.a.createElement("input",{type:"password",name:"password_confirmation",onChange:this.handleInputChange,className:"form-control ".concat(this.state.errors["password_confirmation "]&&"is-invalid"),id:"exampleInputPassword1"}),this.state.errors["password_confirmation "]&&n.a.createElement("div",{className:"invalid-feedback"},this.state.errors["password_confirmation "])),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"inputCity"},"Birthday")),n.a.createElement("div",{className:"form-row"},n.a.createElement("div",{className:"form-group col-md-12"},n.a.createElement("input",{className:"form-control ".concat(this.state.errors.dob&&"is-invalid"),type:"date",name:"dob",id:"dob",onChange:this.handleInputChange}),this.state.errors.dob&&n.a.createElement("div",{className:"invalid-feedback"},this.state.errors.dob))),n.a.createElement("div",{className:"row justify-content-md-start m-1"},n.a.createElement("div",{className:"col"},n.a.createElement(H.a,{sitekey:"6LeOafkUAAAAANf_yLofQU5wx-hiEarcQbrgniO5",render:"explicit",onloadCallback:this.callback,verifyCallback:this.verifyCallback,theme:"dark",size:"normal"}),n.a.createElement("span",{className:" ".concat(this.state.errors.captcha&&"is-invalid")}),this.state.errors.captcha&&n.a.createElement("div",{className:"invalid-feedback"},this.state.errors.captcha))),n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col"},n.a.createElement("button",{type:"submit",className:"btn btn-primary"},"Submit")),n.a.createElement("div",{className:"col"},n.a.createElement(f.b,{className:"stretched-link",to:"/signin",style:{color:"unset"}},"Login Instead"))),n.a.createElement("hr",{className:"my-4"}))))}}]),a}(n.a.Component),z=a(255),q=a.n(z),W=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(c.a)(this,a),(e=t.call(this)).responseGoogle=function(){var t=Object(m.a)(d.a.mark((function t(a){var r,n,s,o,c,l,i;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!a.error){t.next=2;break}return t.abrupt("return",console.log(a.error));case 2:return r=a.profileObj,n=r.googleId,s=r.name,o=r.email,c=r.imageUrl,l={password:n,name:s,email:o,imageUrl:c},t.next=6,e.props.socialLogin(l);case 6:200===(i=t.sent).status?e.props.authenticate(i.data,(function(){e.setState({redirectToReferrer:!0})})):console.log("Error Login. Please try again..");case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.state={redirectToReferrer:!1},e}return Object(l.a)(a,[{key:"render",value:function(){return this.state.redirectToReferrer?n.a.createElement(h.a,{to:"/"}):n.a.createElement(q.a,{className:"w-100",clientId:"917310965900-697ehn1i25siarcg4otfav5obfa580ev.apps.googleusercontent.com",buttonText:"Login with Google",onSuccess:this.responseGoogle,onFailure:this.responseGoogle})}}]),a}(r.Component),G=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(e){var r;return Object(c.a)(this,a),(r=t.call(this,e)).handleInputChange=function(e){r.postData.set(e.target.name,e.target.value),r.setState(Object(F.a)({},e.target.name,e.target.value))},r.handleSubmit=function(){var e=Object(m.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,r.setState({errors:{},responseError:null}),e.next=5,r.props.loginUser(r.state);case 5:422===(a=e.sent).statusCode?r.setState({responseError:a.msg}):(localStorage.setItem("jwt",JSON.stringify(a.data)),r.props.handleAuthUserUpdate(),"admin"===a.data.user.role?r.props.history.push("/admin/home"):r.props.history.push("/")),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),r.setState({errors:e.t0});case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}(),r.state={email:"",password:"",errors:{},responseError:null},r.postData=new FormData,r}return Object(l.a)(a,[{key:"render",value:function(){return n.a.createElement("div",{className:"container col-md-4 my-3",style:{backgroundColor:"#343a40"}},n.a.createElement("div",{className:"jumbotron text-light"},this.state.responseError&&n.a.createElement(J,{type:"danger",message:this.state.responseError}),n.a.createElement("h2",null,"Login"),n.a.createElement("form",{onSubmit:this.handleSubmit},n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"exampleInputEmail1"},"Email address"),n.a.createElement("input",{type:"email",name:"email",onChange:this.handleInputChange,className:"form-control ".concat(this.state.errors.email&&"is-invalid"),id:"exampleInputEmail1","aria-describedby":"emailHelp"}),this.state.errors.email&&n.a.createElement("div",{className:"invalid-feedback"},this.state.errors.email)),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"exampleInputPassword1"},"Password"),n.a.createElement("input",{type:"password",name:"password",onChange:this.handleInputChange,className:"form-control ".concat(this.state.errors.password&&"is-invalid"),id:"exampleInputPassword1"}),this.state.errors.password&&n.a.createElement("div",{className:"invalid-feedback"},this.state.errors.password)),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"exampleInputPassword1"},n.a.createElement(f.b,{to:{pathname:"/forgot-password",state:{email:this.state.email}},className:"text-light"},"Forgot Password ?"))),n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col"},n.a.createElement("button",{type:"submit",className:"btn btn-primary"},"Submit")),n.a.createElement("div",{className:"col"},n.a.createElement(f.b,{className:"stretched-link",to:"/signup",style:{color:"unset"}},"Create Account"))),n.a.createElement("hr",{className:"my-4"}),n.a.createElement("div",{className:"form-group"},n.a.createElement(W,{socialLogin:this.props.socialLogin,authenticate:this.props.authenticate})))))}}]),a}(n.a.Component),Y=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return(e=t.call.apply(t,[this].concat(n))).followClick=function(){e.props.onButtonClick(e.props.follow)},e.unfollowClick=function(){e.props.onButtonClick(e.props.unfollow)},e}return Object(l.a)(a,[{key:"render",value:function(){return n.a.createElement("div",{className:"row justify-content-center"},n.a.createElement("div",{className:"form-group"},this.props.following?n.a.createElement("button",{type:"button",onClick:this.unfollowClick,className:"btn btn-primary btn-sm mr-1"},"Unfollow"):n.a.createElement("button",{type:"button",onClick:this.followClick,className:"btn btn-primary btn-sm mr-1"},"Follow"),n.a.createElement("button",{type:"button",onClick:this.props.handleChatBoxDisplay,className:"btn btn-secondary btn-sm"},"Message")))}}]),a}(r.Component),V=a(86),_=a.n(V),X=(a(579),a(261)),Z=a(54),K=a.n(Z),$=a(256),ee=a.n($),te=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(e){var r;return Object(c.a)(this,a),(r=t.call(this,e)).handleClose=function(){document.getElementById("chattab").style.display="none"},r.appendReceivedMsg=function(e){var t=document.createElement("li"),a=document.createElement("span"),n=document.createElement("img");return e.sender===r.props.senderId?(t.classList.add("text-right","P-1"),a.innerHTML=e.message):(t.classList.add("text-left","P-1"),a.innerHTML=e.message),a.classList.add("p-1"),n.src=b.a,n.style.cssText="border-radius: 50%;height: 15px; width: 15px;",t.appendChild(n),t.appendChild(a),t},r.handleSend=function(){var e=document.querySelector("#btn-input"),t=document.querySelector("#chatBox"),a=document.querySelector("#myMsg");r.socket.emit("msg",{message:e.value,sender:r.props.senderId,senderName:r.props.senderName,senderPhotoUri:r.props.authUser.photo.photoURI,receiver:r.props.receiverId});var n=document.createElement("li"),s=document.createElement("span"),o=document.createElement("img");n.classList.add("text-right","p-1"),s.classList.add("p-1"),s.innerHTML=e.value+r.state.emoji+" ("+r.props.senderName+")",o.src=b.a,o.style.cssText="border-radius: 50%;height: 15px; width: 15px;",n.appendChild(s),n.appendChild(o),a.appendChild(n),t.scrollTo(0,t.scrollHeight),e.value=""},r.addEmoji=function(e){var t=document.querySelector("#btn-input"),a=e.native;t.value+=a},r.showEmoji=function(){r.setState({displayEmoji:!r.state.displayEmoji})},r.state={emoji:"",displayEmoji:!1,msgText:"",messages:null},r.socket=_()("https://retwit-backend.herokuapp.com"),r.socket.on(r.props.senderId,(function(e){var t=r.appendReceivedMsg(e),a=document.querySelector("#myMsg"),n=document.querySelector("#chatBox");a&&a.appendChild(t),n&&n.scrollTo(0,n.scrollHeight)})),window.onkeypress=function(e){13===e.keyCode&&r.handleSend()},r}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=Object(m.a)(d.a.mark((function e(){var t,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.props.fetchMessage(this.props.senderId,this.props.receiverId,this.props.authUser.token);case 3:t=e.sent,this.setState({hasNewMsg:!0,receiverId:this.props.senderId,receiverName:this.props.senderName,messages:t.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:(a=document.querySelector("#chatBox")).scrollTo(0,a.scrollHeight);case 12:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(){var e=Object(m.a)(d.a.mark((function e(t,a){var r,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.receiverId===this.props.receiverId){e.next=13;break}return e.prev=1,e.next=4,this.props.fetchMessage(this.props.senderId,this.props.receiverId,this.props.authUser.token);case 4:r=e.sent,this.setState({hasNewMsg:!0,receiverId:this.props.senderId,receiverName:this.props.senderName,messages:r}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0);case 11:(n=document.querySelector("#chatBox")).scrollTo(0,n.scrollHeight);case 13:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(t,a){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state.messages;return n.a.createElement(ee.a,{axis:"both",handle:".handle",defaultPosition:{x:0,y:0},position:null,grid:[1,1],scale:1,onStart:this.handleStart,onDrag:this.handleDrag,onStop:this.handleStop},n.a.createElement("div",null,n.a.createElement("div",{id:"chattab",className:"card",style:{display:"block",transform:"none",animation:"none",transition:"none",maxWidth:"283px"}},n.a.createElement("div",{className:"card-header text-left text-light bg-dark handle"},n.a.createElement("span",null,this.props.receiverName),n.a.createElement("span",{style:{marginLeft:"10px"}}),n.a.createElement("span",{className:"float-right"},n.a.createElement("button",{type:"button",className:"close text-light","aria-label":"Close",onClick:this.props.handleChatBoxDisplay},n.a.createElement("span",{"aria-hidden":"true"},"\xd7")))),n.a.createElement("div",{className:"card-body chat-text bg-secondary text-light ",id:"chatBox",style:{height:"200px",overflowY:"scroll",padding:"5px"}},n.a.createElement("ul",{className:"p-0 m-0",id:"myMsg",style:{listStyle:"none"}},t&&t.map((function(t,a){return t.sender===e.props.authUser._id?n.a.createElement("div",{className:"bubbleWrapper"},n.a.createElement("div",{className:"inlineContainer own"},n.a.createElement("img",{className:"inlineIcon",src:e.props.authUser?e.props.authUser.photo.photoURI:b.a,alt:"user"}),n.a.createElement("div",{className:"ownBubble own"},t.message)),n.a.createElement("span",{className:"own text-dark"},K()(t.created).format("LT"))):n.a.createElement("div",{className:"bubbleWrapper"},n.a.createElement("div",{className:"inlineContainer"},n.a.createElement("img",{className:"inlineIcon",src:t.receiver.photo?t.receiver.photo.photoURI:b.a,alt:"user"}),n.a.createElement("div",{className:"otherBubble other"},t.message)),n.a.createElement("span",{className:"other text-dark text-sm"},K()(t.created).format("LT")))})))),n.a.createElement("div",{className:"card-footer bg-dark"},n.a.createElement("div",{className:"input-group"},n.a.createElement("input",{id:"btn-input",type:"text",className:"form-control input-sm",placeholder:"Enter Message..."}),n.a.createElement("span",{className:"input-group-btn"},n.a.createElement("button",{className:"btn",onClick:this.showEmoji},n.a.createElement(S.a,{icon:C.t,className:" text-warning"})),n.a.createElement("button",{className:"btn text-light bg-dark",style:{border:"1px solid #1a1d24",borderTopLeftRadius:"0",borderBottomLeftRadius:"0"},onClick:this.handleSend},n.a.createElement(S.a,{icon:C.p}))))),this.state.displayEmoji?n.a.createElement("span",null,n.a.createElement(X.a,{onSelect:this.addEmoji,perLine:"7",showPreview:"FALSE",theme:"dark"})):null)))}}]),a}(r.Component),ae=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return(e=t.call.apply(t,[this].concat(n))).modalClose=function(){var t=document.getElementById(e.props.id);t.style.display="none",t.classList.remove("show")},e}return Object(l.a)(a,[{key:"render",value:function(){return n.a.createElement("div",{className:"modal fade",id:this.props.id,tabIndex:"-1",role:"dialog","aria-labelledby":"exampleModalCenterTitle","aria-hidden":"true",style:{zIndex:"9999"}},n.a.createElement("div",{className:"modal-dialog modal-dialog-centered",role:"document",style:{maxWidth:"800px"}},n.a.createElement("div",{className:"modal-content",style:{width:"100% !important",height:"100% !important"}},n.a.createElement("div",{className:"modal-header bg-primary text-light p-2"},n.a.createElement("h5",{className:"modal-title",id:"exampleModalLongTitle"},this.props.title),n.a.createElement("button",{type:"button",className:"close text-light","aria-label":"Close",onClick:this.modalClose},n.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),n.a.createElement("div",{className:"modal-body bg-dark text-light ".concat(this.props.classes," "),style:this.props.style,id:"modal-body"},this.props.body),this.props.show?n.a.createElement("div",{className:"modal-footer bg-primary",id:"modal-footer"},n.a.createElement("button",{type:"button",className:"btn btn-secondary","data-dismiss":"modal",onClick:this.modalClose},"Close"),n.a.createElement("button",{type:"button",className:"btn btn-danger",id:"modalbtn","data-dismiss":"modal",onClick:this.props.buttonClick},this.props.buttonText)):null)))}}]),a}(r.Component),re=a(42),ne=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(c.a)(this,a),(e=t.call(this)).init=function(){var t=Object(m.a)(d.a.mark((function t(a){var r,n;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=y().user.token,t.prev=1,t.next=4,e.props.read(a,r);case 4:200===(n=t.sent).status?e.setState({id:n.data._id,name:n.data.name,gender:n.data.gender,dob:n.data.dob,email:n.data.email,error:"",about:n.data.about,photo:n.data.photo?n.data.photo.photoURI:b.a}):e.setState({redirectToProfile:!0}),t.next=10;break;case 8:t.prev=8,t.t0=t.catch(1);case 10:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}(),e.handleInputChange=function(t){var a;if("photo"===t.target.name){var r,n,s=[],o=Object(re.a)(t.target.files);try{for(o.s();!(n=o.n()).done;){var c=n.value;s.push(c.size)}}catch(p){o.e(p)}finally{o.f()}for(var l=0,i=Object.keys(t.target.files);l<i.length;l++){var u=i[l];e.postData.append("photo",t.target.files[u])}e.setState((r={},Object(F.a)(r,t.target.name,t.target.files),Object(F.a)(r,"fileSizes",s),r))}else a=t.target.value,e.postData.set(t.target.name,a),e.setState(Object(F.a)({},t.target.name,t.target.value))},e.handleSubmit=function(){var t=Object(m.a)(d.a.mark((function t(a){var r,n,s,o;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),e.setState({errors:{}}),r=e.props.match.params.userId,n=y().user.token,t.prev=4,t.next=7,e.props.update(r,n,e.postData);case 7:if(!(s=t.sent).errors){t.next=14;break}o={},s.errors.forEach((function(e){o[e.param]=e.msg})),e.setState({errors:o}),t.next=20;break;case 14:if("admin"!==y().user.role){t.next=18;break}e.setState({redirectToProfile:!0}),t.next=20;break;case 18:return t.next=20,e.props.updateLocalStorage(s.data,(function(){e.setState({redirectToProfile:!0})}));case 20:t.next=25;break;case 22:t.prev=22,t.t0=t.catch(4),e.setState({errors:t.t0});case 25:case"end":return t.stop()}}),t,null,[[4,22]])})));return function(e){return t.apply(this,arguments)}}(),e.state={id:"",name:"",gender:"",dob:"",email:"",redirectToProfile:!1,error:"",fileSize:0,loading:!1,about:"",photo:"",errors:{}},e.postData=new FormData,e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this.props.authUser?this.props.authUser._id:this.props.match.params.userId;this.init(e)}},{key:"render",value:function(){var e=this.state,t=e.id,a=e.name,r=e.gender,s=e.dob,o=e.email,c=e.redirectToProfile,l=e.error,i=e.about;return c?n.a.createElement(h.a,{to:"/user/".concat(t)}):n.a.createElement("div",{className:"container  bg-dark my-3 col-md-5"},n.a.createElement("div",{className:"jumbotron  text-light"},n.a.createElement("h2",null,"Edit Profile"),n.a.createElement("form",{onSubmit:this.handleSubmit},n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"photo"}," Profile Photo"),n.a.createElement("div",{className:"custom-file"},n.a.createElement("input",{accept:"image/*",className:"custom-file-input",type:"file",onChange:this.handleInputChange,name:"photo",id:"photo","aria-describedby":"inputGroupFileAddon04"}),n.a.createElement("label",{className:"custom-file-label",htmlFor:"photo"},"Choose Post Photo"))),n.a.createElement("div",{className:"form-group "},n.a.createElement("label",null," Name"),n.a.createElement("input",{name:"name",type:"text",onChange:this.handleInputChange,className:"form-control ".concat(this.state.errors.name&&"is-invalid"),id:"name",value:a,placeholder:"Name"}),this.state.errors.name&&n.a.createElement("div",{className:"invalid-feedback"},this.state.errors.name)),n.a.createElement("div",{className:"form-group "},n.a.createElement("label",{htmlFor:"email"}," Email"),n.a.createElement("input",{onChange:this.handleInputChange,type:"email",className:"form-control ".concat(this.state.errors.email&&"is-invalid"),value:o,name:"email",placeholder:"Email",id:"email"}),this.state.errors.email&&n.a.createElement("div",{className:"invalid-feedback"},this.state.errors.email)),n.a.createElement("div",{className:"form-group "},n.a.createElement("label",null," Date Of Birth"),n.a.createElement("input",{type:"date",name:"dob",className:"form-control",onChange:this.handleInputChange,value:K()(s).format("YYYY-MM-DD")})),n.a.createElement("div",{className:"form-group "},n.a.createElement("label",null,"About"),n.a.createElement("textarea",{onChange:this.handleInputChange,className:"form-control ".concat(this.state.errors.about&&"is-invalid"),value:i,name:"about",placeholder:"About",id:"about"})),n.a.createElement("div",{className:"form-group "},n.a.createElement("label",null," Gender \xa0"),n.a.createElement("div",null,n.a.createElement("div",{className:"form-check form-check-inline"},n.a.createElement("input",{className:"form-check-input",type:"radio",name:"gender",id:"inlineRadio1",value:"male",onChange:this.handleInputChange,checked:"male"===r}),n.a.createElement("label",{className:"form-check-label",htmlFor:"inlineRadio1"},"Male")),n.a.createElement("div",{className:"form-check form-check-inline"},n.a.createElement("input",{className:"form-check-input",type:"radio",name:"gender",id:"inlineRadio2",value:"female",onChange:this.handleInputChange,checked:"female"===r}),n.a.createElement("label",{className:"form-check-label",htmlFor:"inlineRadio2"},"Female")))),n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col"},n.a.createElement("button",{className:"btn btn-primary",type:"submit"},"Update Profile"))))),n.a.createElement(J,{message:l,type:"danger",style:{display:l?"":"none"}}))}}]),a}(r.Component),se=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return(e=t.call.apply(t,[this].concat(n))).handleUserUnfollow=function(){var t=Object(m.a)(d.a.mark((function t(a){var r;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=a.target.getAttribute("data-userId"),t.prev=1,!r){t.next=7;break}return t.next=5,e.props.unfollow(y().user._id,y().user.token,r);case 5:t.sent&&e.props.hasPostStatusUpdated(y().user._id);case 7:t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}(),e.handlePostStatus=function(){var t=Object(m.a)(d.a.mark((function t(a){var r,n,s;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=new FormData,n=a.target.getAttribute("data-post-id"),"true"===a.target.getAttribute("data-post-status")?(r.set("status",!1),r.append("disabledBy",y().user._id)):(r.set("status",!0),r.append("disabledBy","")),t.prev=4,t.next=7,e.props.updatePost(n,y().user.token,r);case 7:if(200!==(s=t.sent).status){t.next=12;break}e.props.hasPostStatusUpdated(y().user._id),t.next=13;break;case 12:return t.abrupt("return",Promise.reject(s.error));case 13:t.next=18;break;case 15:t.prev=15,t.t0=t.catch(4),console.log(t.t0);case 18:case"end":return t.stop()}}),t,null,[[4,15]])})));return function(e){return t.apply(this,arguments)}}(),e}return Object(l.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.following,r=t.followers;return n.a.createElement("div",null,n.a.createElement("ul",{className:"nav nav-tabs bg-light",style:{backgroundColor:"#bdbdbd"}},n.a.createElement("li",{className:"nav-item col-md-6 pl-0 pr-0"},n.a.createElement("a",{className:"nav-link active",id:"following-tab","data-toggle":"tab",href:"#following",role:"tab","aria-controls":"following","aria-selected":"true"},"Following (",a?a.length:0,")")),n.a.createElement("li",{className:"nav-item col-md-6 pl-0 pr-0"},n.a.createElement("a",{className:"nav-link",id:"followers-tab","data-toggle":"tab",href:"#followers",role:"tab","aria-controls":"followers","aria-selected":"false"},"Followers (",r?r.length:0,")"))),n.a.createElement("div",{className:"tab-content",id:"myTabContent"},n.a.createElement("div",{className:"tab-pane fade show bg-light active",id:"following",role:"tabpanel","aria-labelledby":"following-tab"},n.a.createElement("hr",null),0===a.length?n.a.createElement("div",null,"You Are Not Following Anybody.",n.a.createElement(f.b,{to:"/findpeople/".concat(y().user._id)},"Find New Friends Here")):a.map((function(t,a){var r=t.photo?t.photo:b.a;return n.a.createElement("div",{key:a,className:"p-2 mt-1",style:{borderRadius:"0px",display:"flex",justifyContent:"space-between",alignItems:"center"}},n.a.createElement(f.b,{to:"/user/".concat(t._id),style:{display:"flex",flex:"1"}},n.a.createElement("img",{style:{borderRadius:"50%",border:"none",height:"30px",width:"30px"},className:"float-left mr-2 ",src:r,alt:t.name,onError:function(e){e.target.src=b.a}}),n.a.createElement("h5",{style:{color:"rgb(230, 207, 35)"}},t.name,t.isLoggedIn?n.a.createElement("span",{className:"badge badge-success"},"Online "):n.a.createElement("span",{className:"badge badge-secondary"},"Offline"))),e.props.match.params.userId===y().user._id?n.a.createElement(n.a.Fragment,null,n.a.createElement("button",{className:"btn btn-primary","data-userId":t._id,onClick:e.handleUserUnfollow},n.a.createElement(S.a,{icon:C.x})),n.a.createElement("button",{className:"btn btn-primary","data-userId":t._id,"data-name":t.name,onClick:e.props.hasChatBoxDisplay},n.a.createElement(S.a,{icon:C.p}))):null)}))),n.a.createElement("div",{className:"tab-pane fade  bg-light",id:"followers",role:"tabpanel","aria-labelledby":"followers-tab"},n.a.createElement("hr",null),0===r.length?n.a.createElement("div",null,"Currently No One Is Following You"):r.map((function(e,t){var a=e.user.photo?e.user.photo:b.a;return n.a.createElement("div",{key:t,style:{borderRadius:"0px",display:"flex",justifyContent:"space-between",alignItems:"center",width:"100%"}},n.a.createElement(f.b,{to:"/user/".concat(e.user._id),style:{display:"flex",justifyContent:"flex-start",textDecoration:"none"}},n.a.createElement("img",{style:{borderRadius:"50%",border:"none",height:"30px",width:"30px"},className:"float-left mr-2",src:a,alt:e.user.name,onError:function(e){e.target.src=b.a}}),n.a.createElement("h4",{className:"lead text-dark"}," ",e.user.name)))})))))}}]),a}(r.Component),oe=Object(h.g)(se),ce=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(e){var r;return Object(c.a)(this,a),(r=t.call(this,e)).init=function(){var e=Object(m.a)(d.a.mark((function e(t){var a,n,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r.props.authUser){e.next=11;break}return a=r.props.authUser.token,e.next=4,r.props.read(t,a);case 4:if(!(n=e.sent)||401!==n.status){e.next=10;break}return localStorage.removeItem("jwt"),e.abrupt("return",r.props.history.push("/signin"));case 10:n.data.err?r.setState({redirectToSignin:!0}):(s=r.checkFollow(n.data),r.setState({user:n.data,following:s,isLoading:!1}),r.loadPosts(t));case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.checkFollow=function(e){var t=y();return e.followers.find((function(e){return e.user._id===t.user._id}))},r.clickFollowButton=function(){var e=Object(m.a)(d.a.mark((function e(t){var a,n,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=y().user._id,n=y().user.token,e.next=4,t(a,n,r.state.user._id);case 4:(s=e.sent).data.error?r.setState({error:s.data.error}):r.setState({user:s.data,following:!r.state.following});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.handleDeactivateModal=function(){document.getElementById("deleteAccount").style.display="block",document.getElementById("deleteAccount").classList.add("show")},r.followersModal=function(){document.getElementById("followersModal").style.display="block",document.getElementById("followersModal").classList.add("show")},r.handlePostStatusChange=function(){var e=Object(m.a)(d.a.mark((function e(t){var a,n,s,o;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),a=t._id,n=t,(s=new FormData).append("status",!n.status),e.prev=5,e.next=8,r.props.updatePost(t,s,a,y().user.token);case 8:(o=e.sent).data.err?console.log("Error=> ",o.data.err):(r.setState({post:n}),r.init(t.postedBy._id)),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(5),console.log("ERR IN UPDATING",e.t0);case 15:case"end":return e.stop()}}),e,null,[[5,12]])})));return function(t){return e.apply(this,arguments)}}(),r.loadPosts=function(){var e=Object(m.a)(d.a.mark((function e(t){var a,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=y().user.token,e.prev=1,e.next=4,r.props.fetchPostsByUser(t,a);case 4:n=e.sent,r.setState({posts:n.data.posts}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),r.editProfile=function(){var e=document.getElementById("editprofile");e.style.display="block",e.classList.add("show")},r.handleChatBoxDisplay=function(e){e.persist(),r.setState({hasChatBoxDisplay:!r.state.hasChatBoxDisplay})},r.showFollowList=function(){var e=document.getElementById("followersmodal");e.style.display="block",e.classList.add("show")},r.state={user:{followers:[],following:[]},redirectToSignin:!1,following:!1,error:"",posts:[],hasPostStatusUpdated:!1,hasChatBoxDisplay:!1,receiverId:void 0,receiverName:void 0,messages:null,isLoading:!0,post:"",isUpdated:!0},r}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this.props.match.params.userId;this.init(e)}},{key:"componentWillReceiveProps",value:function(e){var t=this.props.match.params.userId;this.init(t)}},{key:"render",value:function(){var e=this,t=this.state,a=t.redirectToSignin,r=t.user,s=t.posts,o=r._id&&r.photo?"".concat(r.photo.photoURI):b.a;return a?n.a.createElement(h.a,{to:"/signin"}):this.state.isLoading?this.state.isLoading&&n.a.createElement(P,null):n.a.createElement("div",{className:"bg-dark position-relative rounded",style:{margin:"80px auto 10px auto",minHeight:"calc(100vh - 22vh)"}},this.state.hasChatBoxDisplay&&n.a.createElement("div",{id:"chat-tab",className:" d-flex justify-content-end align-items-end chat-box"},n.a.createElement(te,{authUser:this.props.authUser,senderId:this.props.authUser._id,senderName:this.props.authUser.name,receiverId:this.state.user._id,receiverName:this.state.user.name,messages:this.state.messages,handleChatBoxDisplay:this.handleChatBoxDisplay,fetchMessage:this.props.fetchMessage})),n.a.createElement("div",{className:"wrapper"},n.a.createElement("div",{className:"position-absolute profile-photo"},n.a.createElement("img",{src:o,onError:function(e){e.target.src=b.a},alt:r.name,className:"rounded-circle",style:{width:"150px",height:"150px"}}),this.state.user.isLoggedIn&&n.a.createElement("span",{className:"badge badge-pill badge-success",style:{position:"absolute",left:"82%",top:"80%"}},"\xa0"))),n.a.createElement("div",{className:"jumbotron text-center"},n.a.createElement("h1",{className:"display-4"},"Hello, ",this.state.user.name,"!"),n.a.createElement("p",{className:"lead",style:{color:"#b7b7b7"}},this.state.user.about),n.a.createElement("hr",{className:"my-4"}),n.a.createElement("div",{className:"d-flex justify-content-center m-3 text-center"},n.a.createElement("p",{className:"lead ml-2",onClick:this.showFollowList},n.a.createElement("h5",{className:"card-subtitle mb-2 text-muted"},"Follower"),n.a.createElement("h6",{className:"card-title text-warning"},this.state.user.followers.length)),n.a.createElement("p",{className:"lead ml-2",onClick:this.showFollowList},n.a.createElement("h5",{className:"card-subtitle mb-2 text-muted"},"Following"),n.a.createElement("h6",{className:"card-title text-warning"},this.state.user.following.length)),n.a.createElement("p",{className:"lead ml-2"},n.a.createElement("h5",{className:"card-subtitle mb-2 text-muted"},"Posts"),n.a.createElement("h6",{className:"card-title text-warning"},this.state.posts.length))),this.props.authUser._id!==this.state.user._id&&n.a.createElement(Y,{following:this.state.following,onButtonClick:this.clickFollowButton,handleChatBoxDisplay:this.handleChatBoxDisplay,unfollow:this.props.unfollow,follow:this.props.follow}),n.a.createElement("hr",{className:"my-4"}),n.a.createElement("div",{className:"row justify-content-md-center"},s&&s.map((function(t,a){return n.a.createElement(O,{key:a,post:t,profile:!0,handlePostStatusChange:e.handlePostStatusChange})}))),n.a.createElement(ae,{id:"editprofile",body:n.a.createElement(ne,{userId:this.props.match.params.userId,update:this.props.update,read:this.props.read,authUser:this.props.authUser,updateLocalStorage:this.props.updateLocalStorage}),title:"Edit Profile"}),y()?n.a.createElement(ae,{id:"followersmodal",body:n.a.createElement(oe,{followers:r.followers,following:r.following,hasPostStatusUpdated:this.init,hasChatBoxDisplay:this.handleChatBoxDisplay,updatePost:this.props.updatePost,unfollow:this.props.unfollow}),classes:"m-0 p-0"}):null),n.a.createElement(L,null))}}]),a}(r.Component),le=a(87),ie=a.n(le),ue=(a(242),a(586),function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(c.a)(this,a),(e=t.call(this)).clickFollow=function(){var t=Object(m.a)(d.a.mark((function t(a,r){var n,s,o,c;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=y().user._id,s=y().user.token,e.setState({isProcessing:r}),t.prev=3,t.next=6,e.props.follow(n,s,a._id);case 6:if(200!==(o=t.sent).status){t.next=13;break}(c=e.state.users).splice(r,1),e.setState({users:c,open:!0,notify:"Started Following ".concat(a.name),isProcessing:""}),t.next=14;break;case 13:return t.abrupt("return",Promise.reject(o.reject));case 14:t.next=19;break;case 16:t.prev=16,t.t0=t.catch(3),console.log(t.t0);case 19:case"end":return t.stop()}}),t,null,[[3,16]])})));return function(e,a){return t.apply(this,arguments)}}(),e.renderUsers=function(e){return n.a.createElement("div",{className:"row m-0"},e.map((function(e,t){return"subscriber"===e.role?n.a.createElement("div",{className:"card",key:t,style:{transition:"unset",transform:"unset",animation:"unset",minWidth:"15rem",margin:"1rem"}},n.a.createElement("img",{className:"img-thumbnail",src:e.photo?e.photo.photoURI:b.a,onError:function(e){return e.target.src="".concat(b.a)},alt:e.name}),n.a.createElement("div",{className:"card-body",style:{padding:"0"}},n.a.createElement("h3",{className:"profile-username text-center"},e.name),n.a.createElement("ul",{className:"list-group list-group-unbordered text-dark"},n.a.createElement("li",{className:"list-group-item"},n.a.createElement("small",null,"Followers")," ",n.a.createElement("small",{className:"float-right text-dark"},e.followers.length)),n.a.createElement("li",{className:"list-group-item"},n.a.createElement("small",null,"Following")," ",n.a.createElement("small",{className:"float-right text-dark"},e.following.length))),n.a.createElement("div",null,n.a.createElement(f.b,{to:"/user/".concat(e._id),className:"btn btn-info w-100"},"View Profile")))):""})))},e.updateSearch=function(t){e.setState({search:t.target.value.substr(0,20)})},e.state={users:[],error:"",open:!1,isLoading:!0,isProcessing:"",search:"",networkError:!1},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=Object(m.a)(d.a.mark((function e(){var t,a,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=y().user._id,a=y().user.token,e.prev=2,e.next=5,this.props.findPeople(t,a);case 5:if(200!==(r=e.sent).status){e.next=10;break}this.setState({users:r.data,isLoading:!1}),e.next=11;break;case 10:return e.abrupt("return",Promise.reject(r.error));case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(2),console.log(e.t0);case 16:case"end":return e.stop()}}),e,this,[[2,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state.users.filter((function(t){return-1!==t.name.indexOf(e.state.search)}));return t.length<0||this.state.isLoading?this.state.isLoading&&n.a.createElement(P,null):(this.state.notify&&le.store.addNotification({title:"Success",message:this.state.notify,type:"success",container:"top-right",animationIn:["animated","fadeIn"],animationOut:["animated","fadeOut"],dismiss:{duration:3e3}}),n.a.createElement("div",{className:"container-fluid p-0"},n.a.createElement("div",{className:"jumbotron p-3"},n.a.createElement("input",{type:"text",value:this.state.search,onChange:this.updateSearch,style:{backgroundColor:"#023340",borderTop:"none",borderLeft:"none",borderRight:"none"},className:"form-control col-md-2  text-light",placeholder:"Live Search..."})),this.renderUsers(t),n.a.createElement(L,null)))}}]),a}(r.Component)),pe=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return(e=t.call.apply(t,[this].concat(n))).OnClose=function(){var e=document.getElementById("chatbar");e.classList.add("close-chatbar"),e.style.display="none",document.getElementById("floating-btn").style.display="block"},e}return Object(l.a)(a,[{key:"render",value:function(){var e=this;return n.a.createElement("div",{id:"chatbar",className:"sidebar"},n.a.createElement("div",{style:{cursor:"pointer"},className:"bg-primary d-flex justify-content-start text-light align-items-center"},"\xa0",n.a.createElement(S.a,{icon:C.a,onClick:this.OnClose,className:"text-light"}),n.a.createElement("span",{className:""},"Online")),n.a.createElement("ul",{className:"text-light p-0 m-0",style:{listStyleType:"none"}},this.props.data.map((function(t,a){return n.a.createElement("li",{className:"p-2 m-0 bg-dark",key:a},n.a.createElement("img",{className:"col-sm-4",src:t.photo?t.photo.photoURI:b.a,alt:t.name,style:{borderRadius:"50%"},onError:function(e){return e.target.src=b.a}}),n.a.createElement("button",{className:"text-primary chat-list","data-userId":t._id,"data-name":t.name,onClick:function(){return e.props.handleOpen(t)},style:{background:"transparent",border:"transparent"}},t.name))}))))}}]),a}(r.Component),de=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){var e=this.props,t=e.user;e.authUser;return n.a.createElement("div",{className:"card",style:{transition:"unset",transform:"unset",animation:"unset",minWidth:"15rem",margin:"1rem"}},n.a.createElement("div",{className:"card-body",style:{padding:"unset",margin:"unset"}},n.a.createElement("div",{className:"d-flex"},n.a.createElement("img",{className:"img-thumbnail flex-fill",style:{maxWidth:"238px"},src:t.photo?t.photo.photoURI:b.a,onError:function(e){return e.target.src=b.a},alt:t.name})),n.a.createElement("h3",{className:"profile-username text-center"},t.name),n.a.createElement("ul",{className:"list-group list-group-unbordered text-dark"},n.a.createElement("li",{className:"list-group-item"},n.a.createElement("small",null,"Followers")," ",n.a.createElement("small",{className:"float-right text-dark"},t.followers.length)),n.a.createElement("li",{className:"list-group-item"},n.a.createElement("small",null,"Following")," ",n.a.createElement("small",{className:"float-right text-dark"},t.following.length))),n.a.createElement(f.b,{to:"/user/".concat(t._id),className:"btn btn-info"},"View Profile")))}}]),a}(r.Component),me=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(e){var r;return Object(c.a)(this,a),(r=t.call(this,e)).renderUsers=function(e){return n.a.createElement(n.a.Fragment,null,e.map((function(e,t){return n.a.createElement(de,Object.assign({authUser:r.props.authUser,user:e,key:t},r.props))})))},r.state={users:[],onlineUsers:[],hasChatBoxDisplay:!1,receiverId:void 0,receiverName:void 0,messages:null,isLoading:!0,error:""},r}return Object(l.a)(a,[{key:"componentDidMount",value:function(){}},{key:"componentWillMount",value:function(){var e=Object(m.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!this.props.authUser){e.next=8;break}return e.next=4,this.props.getAll(this.props.authUser.token);case 4:200===(t=e.sent).status&&(t.data.error?console.log(t.error):this.setState({users:t.data.users,isLoading:!1})),e.next=9;break;case 8:this.props.history.push("/signin");case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log("error",e.t0);case 14:case"end":return e.stop()}}),e,this,[[0,11]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.users,a=e.onlineUsers,r=e.error;return console.log(t,a),this.state.isLoading?n.a.createElement(P,null):n.a.createElement("div",{className:"container-fluid"},r?n.a.createElement(J,{message:r,type:"danger"}):null,n.a.createElement("div",{id:"chat-tab",className:"chat-box",style:this.state.hasChatBoxDisplay?{display:"flex"}:{display:"none"}}),n.a.createElement("div",{className:"col-md-12"},n.a.createElement("div",{className:"jumbotron p-3"},n.a.createElement("div",{className:"row"},this.renderUsers(t)))),n.a.createElement(pe,{data:a}),this.state.hasChatBoxDisplay?n.a.createElement(te,{senderId:this.props.authUser._id,senderName:this.props.authUser.name,receiverId:this.state.receiverId,receiverName:this.state.receiverName,handleChatBoxDisplay:this.handleChatBoxDisplay,messages:this.state.messages}):null,n.a.createElement(L,null))}}]),a}(r.Component),he=a(61),fe=a(90),ve=a.n(fe),be=(a(243),a(144)),ge=a(143),Ee=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(e){var r;return Object(c.a)(this,a),(r=t.call(this,e)).handleInputChange=function(e){var t;if("photo"===e.target.name){var a,n,s=[],o=Object(re.a)(e.target.files);try{for(o.s();!(n=o.n()).done;){var c=n.value;s.push(c.size)}}catch(d){o.e(d)}finally{o.f()}for(var l=0,i=Object.keys(e.target.files);l<i.length;l++){var u=i[l];r.postData.append("photo",e.target.files[u])}r.setState((a={},Object(F.a)(a,e.target.name,e.target.files),Object(F.a)(a,"fileSizes",s),a))}else if(t=e.target.value,r.postData.set(e.target.name,t),"isSchedule"!==e.target.name)r.setState(Object(F.a)({},e.target.name,e.target.value));else if("isSchedule"===e.target.name){var p;Boolean(e.target.value)&&r.setState(Object(F.a)({},e.target.name,e.target.value)),!Boolean(e.target.value)&&r.setState((p={},Object(F.a)(p,e.target.name,e.target.value),Object(F.a)(p,"postScheduleTime",""),p))}},r.diff_years=function(e,t){var a=(e.getTime()-t.getTime())/1e3;return a/=86400,Math.abs(Math.round(a))},r.handleScheduleChange=function(e){r.postData.set("postScheduleTime",e),r.setState({postScheduleTime:e})},r.handleSubmit=function(){var e=Object(m.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a=r.state,r.selectedopt.length>0&&r.postData.append("tags",JSON.stringify(r.selectedopt)),e.prev=3,r.setState({errors:{}}),e.next=7,r.props.addPost(r.postData,a,r.props.authUser._id,r.props.authUser.token);case 7:200===e.sent.status&&r.props.history.push("/user/".concat(r.props.authUser._id)),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(3),r.setState({errors:e.t0});case 14:case"end":return e.stop()}}),e,null,[[3,11]])})));return function(t){return e.apply(this,arguments)}}(),r.onSelect=function(e,t){r.selectedopt.push(t)},r.onRemove=function(e,t){r.setState({tags:e},r.postData.set("tags",e))},r.state={title:"",body:"",photo:"",isSchedule:!1,postScheduleTime:"",fileSizes:[],options:[],errors:{}},r.postData=new FormData,r.multiselectRef=n.a.createRef(),r.selectedopt=[],r}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=Object(m.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.props.read(this.props.authUser._id,this.props.authUser.token);case 3:200===(t=e.sent).status?this.setState({options:t.data.following}):this.setState({options:[]}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),this.setState({errors:e.t0});case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=new Date,t=Object(ge.a)(Object(be.a)(e,e.getMinutes()),e.getHours());return n.a.createElement("div",{className:"container p-3 my-3 col-md-6",style:{backgroundColor:"#343a40",color:"#c0c8d0"}},n.a.createElement("form",{onSubmit:this.handleSubmit},n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{for:"photo"},"Photo"),n.a.createElement("input",{type:"file",onChange:this.handleInputChange,name:"photo",className:"form-control-file",id:"photo",multiple:!0})),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"title"},"Title"),n.a.createElement("input",{type:"text",onChange:this.handleInputChange,name:"title",className:"form-control ".concat(this.state.errors.title&&"is-invalid"),id:"title",placeholder:"Title"}),this.state.errors.title&&n.a.createElement("div",{className:"invalid-feedback"},this.state.errors.title)),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"body"},"Body"),n.a.createElement("textarea",{className:"form-control ".concat(this.state.errors.body&&"is-invalid"),onChange:this.handleInputChange,name:"body",id:"body",rows:3,placeholder:"Enter Body"}),this.state.errors.body&&n.a.createElement("div",{className:"invalid-feedback"},this.state.errors.body)),n.a.createElement("div",{className:"form-group"},n.a.createElement(he.Multiselect,{id:"tags",className:"form-control",ref:this.multiselectRef,options:this.state.options,selectedValues:this.state.selectedValue,onSelect:this.onSelect,onRemove:this.onRemove,displayValue:"name",placeholder:"Select Peoples To Tag",emptyRecordMsg:"No People Found"})),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:""},"Schedule Post"),n.a.createElement("div",null,n.a.createElement("div",{className:"form-check form-check-inline"},n.a.createElement("input",{className:"form-check-input",type:"radio",name:"isSchedule",id:"isSchedule",value:"true",onChange:this.handleInputChange}),n.a.createElement("label",{className:"form-check-label",htmlFor:"isSchedule"},"Yes")),n.a.createElement("div",{className:"form-check form-check-inline"},n.a.createElement("input",{className:"form-check-input",type:"radio",name:"isSchedule",id:"isSchedule",value:null,onChange:this.handleInputChange}),n.a.createElement("label",{className:"form-check-label",htmlFor:"isSchedule"},"No")))),Boolean(this.state.isSchedule)&&n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:""},"Set Schedule"),n.a.createElement(ve.a,{selected:this.state.postScheduleTime,onChange:this.handleScheduleChange,showTimeSelect:!0,timeFormat:"HH:mm",timeIntervals:5,timeCaption:"time",dateFormat:"MMMM d, yyyy h:mm aa",key:"schedulePost",minTime:t,minDate:new Date,maxTime:Object(ge.a)(Object(be.a)(new Date,30),20)})),n.a.createElement("button",{className:"btn btn-primary"},"Create")))}}]),a}(n.a.Component),ye=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(c.a)(this,a),(e=t.call(this)).handleReplyInput=function(t){e.setState({commentReply:t.target.value})},e.addCommentReply=Object(m.a)(d.a.mark((function t(){var a,r,n,s,o;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=y().user._id,r=y().user.token,n=e.props.postId,s=e.props.data._id,t.prev=4,t.next=7,e.props.replyComment(a,r,n,e.state.commentReply,s);case 7:(o=t.sent).error?console.log(o.error):e.setState({commentReply:""}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(4),console.log(t.t0);case 14:case"end":return t.stop()}}),t,null,[[4,11]])}))),e.showReplyBox=function(t){var a=document.getElementById(e.props.i);"none"===a.style.display?(a.style.display="flex",a.style.alignItems="baseline",a.style.justifyContent="space-between"):a.style.display="none"},e.state={commentReply:""},e}return Object(l.a)(a,[{key:"componentWillReceiveProps",value:function(){this.setState({commentReply:""})}},{key:"render",value:function(){var e=this,t=this.props.data;return n.a.createElement("div",{key:this.props.i+"asdsd",className:"p-0 mt-0",style:{color:"white"}},n.a.createElement("div",{className:"comment-block"},n.a.createElement(f.b,{to:"/user/".concat(t.postedBy._id)},n.a.createElement("img",{className:"float-left mr-2 rounded",height:"30px",width:"30px",src:t.postedBy.photo?t.postedBy.photo.photoURI:b.a,alt:t.postedBy.name,onError:function(e){e.target.src=b.a}})),n.a.createElement("div",null,n.a.createElement("h6",null,t.text,"\xa0",y().user&&y().user._id===t.postedBy._id?n.a.createElement("button",{style:{justifyContent:"flex-end",border:"1px solid red"},onClick:function(){return e.props.deleteClick(t)},className:"btn text-danger float-right btn-delete"},n.a.createElement(S.a,{icon:C.u,style:{color:"none"}})):n.a.createElement("button",{className:"btn-sm btn-secondary float-right",style:{justifyContent:"flex-end"},onClick:function(t){return e.showReplyBox(t)}},n.a.createElement(S.a,{icon:C.r}),"\xa0 Reply"),n.a.createElement("br",null),n.a.createElement("br",null),n.a.createElement("div",{style:{display:"flex",justifyContent:"flex-end"}},n.a.createElement("small",null,n.a.createElement("span",{className:" font-italic",style:{fontSize:"12px"}},"Comment By : ","  ",t.postedBy.name," ","  ",n.a.createElement(A.a,{date:t.created}))))))),t.replies.map((function(a,r){return n.a.createElement("div",{className:"comment-block ml-5",key:r+"xqf"},n.a.createElement(f.b,{to:"/user/".concat(a.postedBy._id)},n.a.createElement("img",{style:{border:"1px solid black"},className:"float-left mr-2",height:"30px",width:"30px",src:a.postedBy.photo?a.postedBy.photo.photoURI:b.a,alt:a.postedBy.name,onError:function(e){e.target.src=b.a}})),n.a.createElement("div",null,n.a.createElement("h6",null,a.text,"\xa0",y().user&&y().user._id===t.postedBy._id&&n.a.createElement(S.a,{className:"float-right",onClick:function(){return e.props.deleteClick(t)},style:{color:"none",cursor:"pointer"}}),n.a.createElement("div",{style:{display:"flex",justifyContent:"flex-end"}},n.a.createElement("small",null,n.a.createElement("span",{className:" font-italic",style:{fontSize:"12px"}},"Replied By : ","  ",a.postedBy.name," ","  ",n.a.createElement(A.a,{date:a.created})))))))})),n.a.createElement("br",null),n.a.createElement("div",{className:"",id:this.props.i,style:{display:"none"}},n.a.createElement("input",{className:"form-control-sm my-2",type:"text",name:"commentreply",id:"commentreply",placeholder:"Reply Comment",onChange:this.handleReplyInput,style:{flex:"1"}}),n.a.createElement("button",{className:"btn-sm btn-primary",type:"submit",onClick:this.addCommentReply},"Reply")))}}]),a}(r.Component),we=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return(e=t.call.apply(t,[this].concat(n))).state={text:"",error:""},e.isValid=function(){var t=e.state.text;return!(!t.length>0||t.length>150)||(e.setState({error:"Comment Should Not Be Empty Or Greater Than 150 Characters"}),!1)},e.handleChange=function(t){e.setState({error:""}),e.setState({text:t.target.value})},e.addComment=function(){var t=Object(m.a)(d.a.mark((function t(a){var r,n,s,o;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a.preventDefault(),y()){t.next=4;break}return e.setState({error:"Please Login To Leave The Comment"}),t.abrupt("return",!1);case 4:if(!e.isValid()){t.next=18;break}return r=y().user._id,n=y().user.token,s=e.props.postId,t.prev=8,t.next=11,e.props.addComment(r,n,s,{text:e.state.text});case 11:200===(o=t.sent).status?(e.setState({text:""}),e.props.updateComments(o.data.comments)):console.log(o.error),t.next=18;break;case 15:t.prev=15,t.t0=t.catch(8),console.log(t.t0);case 18:case"end":return t.stop()}}),t,null,[[8,15]])})));return function(e){return t.apply(this,arguments)}}(),e.deleteComment=function(){var t=Object(m.a)(d.a.mark((function t(a){var r,n,s,o;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=y().user._id,n=y().user.token,s=e.props.postId,t.prev=3,t.next=6,e.props.removeComment(r,n,s,a);case 6:200===(o=t.sent).status?e.props.updateComments(o.data.comments):console.log(o.error),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(3),console.log(t.t0);case 13:case"end":return t.stop()}}),t,null,[[3,10]])})));return function(e){return t.apply(this,arguments)}}(),e.deleteConfirmed=function(t){window.confirm("Are Youe Sure. You Want To Delete your Comment?")&&e.deleteComment(t)},e}return Object(l.a)(a,[{key:"render",value:function(){var e=this,t=this.props.comments,a=this.state.error;return n.a.createElement("div",{className:"ml-0 pb-3"},n.a.createElement(J,{style:{display:a?"":"none"},message:a,type:"danger"}),n.a.createElement("hr",null),n.a.createElement("div",{className:"col-md-12"},n.a.createElement("h5",{className:"text-light"},1===t.length?"".concat(t.length," Comment"):"".concat(t.length," Comments")),n.a.createElement("hr",null),t.map((function(t,a){return n.a.createElement(ye,{data:t,i:a,key:a,deleteClick:function(){return e.deleteConfirmed(t)},postId:e.props.postId,replyComment:e.props.replyComment,updateComments:e.props.updateComments})})),n.a.createElement("form",null,n.a.createElement("div",{className:"form-group",style:{flex:2}},n.a.createElement("input",{type:"text",className:"form-control text-light",onChange:this.handleChange,value:this.state.text,placeholder:"Leave A Comment",style:{backgroundColor:"#023340",borderTop:"none",borderLeft:"none",borderRight:"none"}})),n.a.createElement("button",{onClick:this.addComment,className:"btn btn-raised btn-primary",style:{flex:1}},"Add Comment ",n.a.createElement(S.a,{icon:C.q})))))}}]),a}(r.Component),ke=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(e){var r;return Object(c.a)(this,a),(r=t.call(this,e)).handleInputChange=function(e){var t;if("photo"===e.target.name){var a,n,s=[],o=Object(re.a)(e.target.files);try{for(o.s();!(n=o.n()).done;){var c=n.value;s.push(c.size)}}catch(p){o.e(p)}finally{o.f()}for(var l=0,i=Object.keys(e.target.files);l<i.length;l++){var u=i[l];r.postData.append("photo",e.target.files[u])}r.setState((a={},Object(F.a)(a,e.target.name,e.target.files),Object(F.a)(a,"fileSizes",s),a))}else t=e.target.value,r.postData.append(e.target.name,t),r.setState(Object(F.a)({},e.target.name,e.target.value))},r.handleSubmit=function(){var e=Object(m.a)(d.a.mark((function e(t){var a,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a=r.props.authUser._id,n=r.props.authUser.token,r.selectedopt.length>0&&r.postData.append("tags",JSON.stringify(r.selectedopt)),e.prev=4,r.setState({errors:{}}),e.next=8,r.props.editPost(r.state,r.postData,r.state.id,n);case 8:200===e.sent.status?r.props.history.push("/user/".concat(a)):console.log("error"),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(4),r.setState({errors:e.t0});case 15:case"end":return e.stop()}}),e,null,[[4,12]])})));return function(t){return e.apply(this,arguments)}}(),r.onSelect=function(e,t){r.selectedopt.push({id:t._id})},r.onRemove=function(e,t){var a=r.selectedopt.map((function(e){return e.id})).indexOf(t._id);r.selectedopt.splice(a)},r.state={id:"",title:"",body:"",photo:"",fileSizes:[],errors:{},options:[],selectedTags:[]},r.postData=new FormData,r.multiselectRef=n.a.createRef(),r.selectedopt=[],r}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=Object(m.a)(d.a.mark((function e(){var t,a,r,n,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.authUser._id,a=this.props.authUser.token,r=this.props.postId?this.props.postId:this.props.match.params.postId,e.prev=3,e.next=6,this.props.fetchPost(r);case 6:200===(n=e.sent).status?this.setState({id:n.data._id,title:n.data.title,body:n.data.body,error:"",photo:n.data.photo?n.data.photo:E.a,user:this.props.authUser,options:n.data.following,selectedTags:n.data.tags}):this.setState({redirectToProfile:!0}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),console.log(e.t0);case 13:return e.prev=13,e.next=16,this.props.read(t,a);case 16:200===(s=e.sent).status?this.setState({options:s.data.following}):this.setState({options:[]}),e.next=23;break;case 20:e.prev=20,e.t1=e.catch(13),console.log(e.t1);case 23:case"end":return e.stop()}}),e,this,[[3,10],[13,20]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return n.a.createElement("div",{className:"container"},n.a.createElement("form",{onSubmit:this.handleSubmit},n.a.createElement("div",{className:"form-group text-light"},n.a.createElement("label",{htmlFor:"photo"},"Photo"),n.a.createElement("input",{type:"file",onChange:this.handleInputChange,name:"photo",id:"photo",className:"form-control-file",multiple:!0})),n.a.createElement("div",{className:"form-group text-light"},n.a.createElement("label",{htmlFor:"title"},"Title"),n.a.createElement("input",{type:"text",onChange:this.handleInputChange,name:"title",id:"title",className:"form-control ".concat(this.state.errors.title&&"is-invalid"),value:this.state.title,placeholder:"Title"}),this.state.errors.title&&n.a.createElement("div",{className:"invalid-feedback"},this.state.errors.title)),n.a.createElement("div",{className:"form-group text-light"},n.a.createElement("label",{htmlFor:"body"},"Body"),n.a.createElement("textarea",{className:"form-control ".concat(this.state.errors.body&&"is-invalid"),onChange:this.handleInputChange,name:"body",id:"body",value:this.state.body,rows:3,placeholder:"Enter Body"}),this.state.errors.body&&n.a.createElement("div",{className:"invalid-feedback"},this.state.errors.body)),n.a.createElement("div",{className:"form-group"},n.a.createElement(he.Multiselect,{id:"tags",className:"form-control",ref:this.multiselectRef,options:this.state.options,onSelect:this.onSelect,onRemove:this.onRemove,displayValue:"name",placeholder:"Select Peoples To Tag",emptyRecordMsg:"No People Found",selectedValues:this.state.selectedTags})),n.a.createElement("button",{className:"btn btn-primary"},"Edit")))}}]),a}(n.a.Component),Ae=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];return(e=t.call.apply(t,[this].concat(s))).state={post:null,redirectToHome:!1,redirectToSignin:!1,isLoading:!0,like:!1,likes:0,comments:[]},e.deleteConfirmed=Object(m.a)(d.a.mark((function t(){var a,r,n;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=e.props.match.params.postId,r=y().user.token,!window.confirm("Are Youe Sure. You Want To Delete your Post?")){t.next=18;break}return t.prev=4,t.next=7,e.props.deletePost(a,r);case 7:if(200!==(n=t.sent).status){t.next=12;break}e.setState({redirectToHome:!0}),t.next=13;break;case 12:return t.abrupt("return",Promise.reject(n.error));case 13:t.next=18;break;case 15:t.prev=15,t.t0=t.catch(4),console.log(t.t0);case 18:case"end":return t.stop()}}),t,null,[[4,15]])}))),e.checkLike=function(e){var t=y()&&y().user._id,a=[];return e.forEach((function(e){a.push(e.user)})),a.indexOf(t)>=0},e.updateComments=function(t){e.setState({comments:t})},e.likeToggle=function(){var t=Object(m.a)(d.a.mark((function t(a){var r,n,s,o,c;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a.target.classList.add("icon-like"),y()){t.next=4;break}return e.setState({redirectToSignin:!0}),t.abrupt("return",!1);case 4:return r=e.state.like?e.props.unlikePost:e.props.likePost,n=y().user._id,s=e.state.post._id,o=y().user.token,t.prev=8,t.next=11,r(n,o,s);case 11:200===(c=t.sent).status&&e.setState({like:!e.state.like,likes:c.data.likes.length}),t.next=18;break;case 15:t.prev=15,t.t0=t.catch(8),console.log(t.t0);case 18:case"end":return t.stop()}}),t,null,[[8,15]])})));return function(e){return t.apply(this,arguments)}}(),e.getExt=function(e){return e.split("?")[0].split("#")[0].split(".").pop()},e.renderPost=function(t){var a=t.postedBy?"/user/".concat(t.postedBy._id):"",r=t.postedBy?t.postedBy.name:"Unknown",s=e.state,o=s.like,c=s.likes;return n.a.createElement("div",null,n.a.createElement("div",null,t.photo.length>1?n.a.createElement("div",{style:{height:"500px !important"}},n.a.createElement("div",{className:"carosuel-height"},n.a.createElement(j,{key:t._id,images:t.photo}))):"mp4"===e.getExt(t.photo[0])?n.a.createElement("video",{controls:!0,className:"carosuel-height"},n.a.createElement("source",{src:t.photo[0],type:"video/mp4"}),"Your browser does not support the video tag."):n.a.createElement("img",{className:"img-thumbnail p-0 rounded-0",src:t.photo?t.photo:E.a,alt:t.title,style:{height:"400px",width:"100vw",objectFit:"contain"},onError:function(e){e.target.src=E.a}})),n.a.createElement("div",{className:"card-body text-light"},o?n.a.createElement("h5",{onClick:e.likeToggle,className:"text-light"},n.a.createElement(S.a,{icon:C.l,className:" text-danger",style:{cursor:"pointer"}}),"\xa0 ",c,"\xa0 ",c>1?"likes":"like"):n.a.createElement("h5",{onClick:e.likeToggle,style:{color:"#ffff"}},n.a.createElement(S.a,{icon:C.l,style:{cursor:"pointer"}}),"\xa0",c,"\xa0",c>1?"likes":"like"),n.a.createElement("div",{className:""},n.a.createElement("h4",{className:"lead pt-2 pb-2"},n.a.createElement("small",null,n.a.createElement("span",{className:"font-italic",style:{fontSize:"12px"}},"Posted By",n.a.createElement(f.b,{style:{color:"#a59413"},to:"".concat(a)},"\xa0",r,"\xa0"),"on ",new Date(t.created).toDateString())))),n.a.createElement("h3",null,t.title),n.a.createElement("p",{className:"card-text"},t.body),n.a.createElement("div",{className:"d-inline-block"},n.a.createElement(f.b,{to:"/",className:"btn btn-raised btn-primary mr-1"},n.a.createElement(S.a,{icon:C.b,style:{cursor:"pointer"}}),"Back"),y().user&&y().user._id===t.postedBy._id&&n.a.createElement(n.a.Fragment,null,n.a.createElement("button",{className:"btn btn-raised btn-primary mr-1 bg-dark","data-toggle":"modal",onClick:e.handleEditPost},n.a.createElement(S.a,{icon:C.i,style:{cursor:"pointer"}})),n.a.createElement("button",{onClick:e.deleteConfirmed,className:"btn btn-raised btn-primary mr-1 bg-dark"},n.a.createElement(S.a,{icon:C.u,style:{cursor:"pointer"}}))))))},e.handleEditPost=function(){document.getElementById("editpost").style.display="block",document.getElementById("editpost").classList.add("show")},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=Object(m.a)(d.a.mark((function e(){var t,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.match.params.postId,e.prev=1,e.next=4,this.props.fetchPost(t);case 4:200===(a=e.sent).status&&(a.error?console.log(a.error):this.setState({post:a.data,likes:a.data.likes.length,like:this.checkLike(a.data.likes),comments:a.data.comments,isLoading:!1})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0);case 11:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.post,a=e.redirectToHome,r=e.redirectToSignin,s=e.comments;return null==t||this.state.isLoading?n.a.createElement(P,null):a?n.a.createElement(h.a,{to:"/"}):r?n.a.createElement(h.a,{to:"/signin"}):n.a.createElement("div",{className:"container-fluid"},this.state.post?this.renderPost(t):{},n.a.createElement(we,{postId:t._id,comments:s.reverse(),updateComments:this.updateComments,addComment:this.props.addComment,removeComment:this.props.removeComment,replyComment:this.props.replyComment}),n.a.createElement(ae,{id:"editpost",body:n.a.createElement(ke,Object.assign({},this.props,{postId:this.props.match.params.postId,authUser:this.props.authUser,editPost:this.props.editPost,read:this.props.read})),title:"Edit Post"}))}}]),a}(r.Component),xe=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return(e=t.call.apply(t,[this].concat(n))).state={email:e.props.location.state.email?e.props.location.state.email:"",message:"",error:""},e.forgotPassword=function(t){var a=59,r=2,n=a.toString(),s=document.querySelector("#t");t.preventDefault(),e.setState({message:"",error:""}),w(e.state.email).then((function(t){t.error?e.setState({error:t.error}):e.setState({message:t.message})}));var o=setInterval((function(){0===--a&&(r--,a=59);r<0&&(r="0",a="00",s.innerHTML=r+":"+a,clearInterval(o));2===n.length?s.innerHTML="0"+r+":"+a:s.innerHTML="0"+r+":0"+a}),1e3)},e}return Object(l.a)(a,[{key:"render",value:function(){var e=this;return n.a.createElement("div",{className:"container d-flex justify-content-center"},n.a.createElement("div",{className:"col-md-4 mt-3 m-5 bg-dark"},n.a.createElement("h2",{className:"mt-5 text-light"},"Reset Password"),this.state.message&&n.a.createElement(J,{message:this.state.message,type:"info"}),this.state.error&&n.a.createElement(J,{message:this.state.error,type:"danger"}),n.a.createElement("form",{className:"mb-5"},n.a.createElement("div",{className:"form-group mt-5"},n.a.createElement("input",{type:"email",className:"form-control",placeholder:"Your email address",value:this.state.email,name:"email",onChange:function(t){return e.setState({email:t.target.value,message:"",error:""})},autoFocus:!0})),n.a.createElement("button",{onClick:this.forgotPassword,className:"btn btn-raised btn-primary"},"Send Reset Link"))))}}]),a}(r.Component),Ne=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(e){var r;return Object(c.a)(this,a),(r=t.call(this,e)).resetPassword=function(){var e=Object(m.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),r.setState({message:"",error:""}),e.prev=2,e.next=5,r.props.resetPassword({newPassword:r.state.newPassword,resetPasswordLink:r.props.match.params.resetPasswordToken});case 5:200===(a=e.sent).status?r.setState({message:a.data.message,newPassword:""}):r.setState({error:a.data.message}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}(),r.state={newPassword:"",message:"",error:""},r}return Object(l.a)(a,[{key:"render",value:function(){var e=this;return n.a.createElement("div",{className:"container"},n.a.createElement("h2",{className:"mt-5 mb-5"},"Reset your Password"),this.state.message&&n.a.createElement(J,{message:this.state.message,type:"success"}),this.state.error&&n.a.createElement(J,{message:this.state.error,type:"danger"}),n.a.createElement("form",{className:!0},n.a.createElement("div",{className:"form-group mt-5"},n.a.createElement("input",{type:"password",className:"form-control",placeholder:"Your new password",value:this.state.newPassword,name:"newPassword",onChange:function(t){return e.setState({newPassword:t.target.value,message:"",error:""})},autoFocus:!0})),n.a.createElement("button",{onClick:this.resetPassword,className:"btn btn-raised btn-primary"},"Reset Password")))}}]),a}(r.Component),je=function(){var e=Object(m.a)(d.a.mark((function e(t,a){var r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,U()("".concat("https://retwit-backend.herokuapp.com","/api/user/newusers/").concat(t),{method:"get",headers:{Accept:"application/json","Content-Type":"Application/json",Authorization:"Bearer ".concat(a)}});case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),Se=function(){var e=Object(m.a)(d.a.mark((function e(t,a){var r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,U()("".concat("https://retwit-backend.herokuapp.com","/api/post/newpost/").concat(t),{method:"get",headers:{Accept:"application/json","Content-Type":"Application/json",Authorization:"Bearer ".concat(a)}});case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),Ce=function(){var e=Object(m.a)(d.a.mark((function e(t,a){var r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,U()("".concat("https://retwit-backend.herokuapp.com","/api/user/onlinetoday/").concat(t),{method:"get",headers:{Accept:"application/json","Content-Type":"Application/json",Authorization:"Bearer ".concat(a)}});case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),Oe=function(){var e=Object(m.a)(d.a.mark((function e(t,a){var r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,U()("".concat("https://retwit-backend.herokuapp.com","/api/user/onlinenow/").concat(t),{method:"get",headers:{Accept:"application/json","Content-Type":"Application/json",Authorization:"Bearer ".concat(a)}});case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),Pe=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return(e=t.call.apply(t,[this].concat(n))).state={redirectToHome:!1,error:"",newUsers:[],newPosts:[],dailyActiveUsers:[],usersOnline:[]},e.getData=function(){var t=Object(m.a)(d.a.mark((function t(a,r){var n,s,o,c;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,je(a,r);case 3:(n=t.sent).data.err?e.setState({error:n.data.err}):e.setState({newUsers:n.data}),t.next=9;break;case 7:t.prev=7,t.t0=t.catch(0);case 9:return t.prev=9,t.next=12,Se(a,r);case 12:(s=t.sent).data.err?e.setState({error:s.data.err}):e.setState({newPosts:s.data}),t.next=18;break;case 16:t.prev=16,t.t1=t.catch(9);case 18:return t.prev=18,t.next=21,Ce(a,r);case 21:(o=t.sent).data.err?e.setState({error:o.data.err}):e.setState({dailyActiveUsers:o.data}),t.next=27;break;case 25:t.prev=25,t.t2=t.catch(18);case 27:return t.prev=27,t.next=30,Oe(a,r);case 30:(c=t.sent).data.err?e.setState({error:c.data.err}):e.setState({usersOnline:c.data}),t.next=36;break;case 34:t.prev=34,t.t3=t.catch(27);case 36:case"end":return t.stop()}}),t,null,[[0,7],[9,16],[18,25],[27,34]])})));return function(e,a){return t.apply(this,arguments)}}(),e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=y().user._id,a=y().user.token;"admin"!==y().user.role&&this.setState({redirectToHome:!0}),this.getData(t,a),this.interval=setInterval((function(){return e.getData(t,a)}),5e3)}},{key:"componentWillUnmount",value:function(){clearInterval(this.interval)}},{key:"render",value:function(){var e=this.state,t=e.newUsers,a=e.newPosts,r=e.dailyActiveUsers,s=e.usersOnline;return this.state.redirectToHome?n.a.createElement(h.a,{to:"/"}):n.a.createElement("div",null,n.a.createElement("div",{className:"jumbotron p-3"},n.a.createElement("h4",null," Dashboard")),n.a.createElement("div",{className:"container-fluid "},n.a.createElement("div",{className:"row justify-content-md-center"},n.a.createElement("div",{className:"dash-card bg-success p-3"},n.a.createElement("h3",null,"New Registrations"),n.a.createElement("h1",null,t.length,"\xa0"),n.a.createElement(S.a,{icon:C.v,className:"dash-icon"})),n.a.createElement("div",{className:"dash-card bg-warning p-3"},n.a.createElement("h3",null,"New Posts"),n.a.createElement("h1",null,a.length,"\xa0"),n.a.createElement(S.a,{icon:C.n,className:"dash-icon"})),n.a.createElement("div",{className:"dash-card p-3",style:{backgroundColor:"#17a2b8"}},n.a.createElement("h3",null,"Active Today"),n.a.createElement("h1",null,r.length,"\xa0"),n.a.createElement(S.a,{icon:C.w,className:"dash-icon"})),n.a.createElement("div",{className:"dash-card bg-danger p-3"},n.a.createElement("h3",null,"Active Now"),n.a.createElement("h1",null,s.length,"\xa0"),n.a.createElement(S.a,{icon:C.j,className:"dash-icon"})))))}}]),a}(r.Component),Ie=(a(251),function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return n.a.createElement("div",{className:this.props.class,key:this.props.ckey,style:{height:"30px",width:"30px"}},n.a.createElement("img",{src:this.props.src,onError:function(e){return e.target.src=b.a},alt:"user ",style:{height:"100%",width:"100%"}}))}}]),a}(n.a.Component)),Be=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(e){var r;return Object(c.a)(this,a),(r=t.call(this,e)).deleteAccount=function(){var e=Object(m.a)(d.a.mark((function e(t){var a,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=y().user.token,"admin"!==y().user.role){e.next=12;break}return e.prev=2,e.next=5,r.props.remove(t,a);case 5:(n=e.sent).isDeleted?(r.setState({redirect:!0}),document.getElementById("deleteprofile").style.display="none",document.getElementById("deleteprofile").classList.remove("show")):console.log(n.msg),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}(),r.editProfile=function(e){r.setState({editId:e})},r.deleteConfirmed=function(e){if(e){r.deleteAccount(e);var t=document.getElementById(e);t.addEventListener("animationend",(function(){t.parentNode.removeChild(t),t.classList.remove("row-remove")})),t.classList.toggle("row-remove")}else alert("Please Select Record First")},r.handleCheckBoxChange=function(e){var t=document.getElementsByName("selectall")[0],a=document.getElementsByName("childchk"),n=[];t.checked?a.forEach((function(e){e.checked=!0,n.push(e.id)})):a.forEach((function(e){e.checked=!1,n=[]})),r.setState({checkBox:n})},r.handleSingleCheckBox=function(e){var t=document.getElementsByName("selectall")[0],a=document.getElementsByName("childchk"),n=[];a.forEach((function(e){var a=n.indexOf(e.id);e.checked?(t.checked=!1,n.push(e.id)):a>-1&&n.splice(a,1)})),r.setState({checkBox:n})},r.handleDeleteModal=function(e){document.getElementById("deleteprofile").style.display="block",document.getElementById("deleteprofile").classList.add("show"),r.setState({deleteId:e})},r.hanldeMultipleDeleteModal=function(){document.getElementById("deleteprofile").style.display="block",document.getElementById("deleteprofile").classList.add("show")},r.deleteMultiple=Object(m.a)(d.a.mark((function e(){var t,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=r.state.checkBox,a=y().user.token,0===t.length?alert("Please Select Records To Delete."):(t.forEach(function(){var e=Object(m.a)(d.a.mark((function e(t){var n,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.props.remove(t,a);case 2:n=e.sent;try{n.isDeleted?(r.setState({redirect:!0}),(s=document.getElementById(t)).addEventListener("animationend",(function(){s.parentNode.removeChild(s),s.classList.remove("row-remove")})),s.classList.toggle("row-remove")):console.log(n.data.msg)}catch(o){}case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),document.getElementById("deleteprofile").style.display="none",document.getElementById("deleteprofile").classList.remove("show"));case 3:case"end":return e.stop()}}),e)}))),r.updateSearch=function(e){r.setState({search:e.target.value.substr(0,20)})},r.handleUserStatusChange=function(){var e=Object(m.a)(d.a.mark((function e(t){var a,n,s,o,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.target.getAttribute("data-index"),n=r.state.users[a]._id){e.next=4;break}return e.abrupt("return",!1);case 4:return(s=r.state.users)[a].status?s[a].status=!1:s[a].status=!0,(o=new FormData).append("status",s[a].status),e.next=10,r.props.update(n,y().user.token,o);case 10:c=e.sent;try{c.data.err?console.log("Error=> ",c.err):(r.setState({users:s,toastPopup:!0,toastType:"success",toastMsg:"Record updated successfully."}),setTimeout(r.toastPopupEnable,8e3))}catch(l){console.log("ERR IN UPDATING",l)}case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.toastPopupEnable=function(){r.setState({toastPopup:!1})},r.state={users:[],checked:!1,checkBox:[],isProfileViewed:!1,recordIndex:void 0,toastPopup:!1,toastType:"",toastMsg:"",deleteId:"",search:"",editId:"",isLoading:!0},r.index=void 0,r}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=Object(m.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.props.list(y().user.token);case 3:(t=e.sent).data.error?console.log(t.error):this.setState({users:t.data.users,isLoading:!1},(function(){var e=document.createElement("script");e.src="/js/dataTables.js",document.body.appendChild(e)})),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state.users;return t.length<0||this.state.isLoading?this.state.isLoading&&n.a.createElement(P,null):n.a.createElement("div",{className:"container-fluid m-0 p-0"},n.a.createElement("div",{className:"jumbotron p-3 m-0"},"Total Users: ",t.length),n.a.createElement("div",{className:"d-flex m-1"},n.a.createElement("button",{className:"btn btn-danger m-2 ",onClick:this.hanldeMultipleDeleteModal,"data-toggle":"modal"},n.a.createElement(S.a,{icon:C.u})," Delete Selected")),t.length>0?n.a.createElement("table",{className:"table table-hover",id:"userstable"},n.a.createElement("thead",{className:"thead-dark"},n.a.createElement("tr",null,n.a.createElement("th",null,n.a.createElement("input",{name:"selectall",type:"checkbox",onChange:function(t){return e.handleCheckBoxChange(t)}})),n.a.createElement("th",{scope:"col",style:{width:"10px"}},"No"),n.a.createElement("th",{scope:"col",style:{width:"15px"}},"Image"),n.a.createElement("th",{scope:"col"},"Name"),n.a.createElement("th",{scope:"col"},"About"),n.a.createElement("th",{scope:"col"},"Role"),n.a.createElement("th",{scope:"col"},"Email"),n.a.createElement("th",{scope:"col"},"Joined Date"),n.a.createElement("th",{scope:"col"},"Status"),n.a.createElement("th",{scope:"col",style:{width:"10px"}},"Edit"),n.a.createElement("th",{scope:"col",style:{width:"10px"}},"Delete"))),n.a.createElement("tbody",{className:"bg-dark text-light"},t.map((function(t,a){return n.a.createElement("tr",{key:t._id,id:t._id,style:{cursor:"pointer"},"data-index":a,className:"table-row"},n.a.createElement("th",null,n.a.createElement("input",{name:"childchk",type:"checkbox",id:t._id,onChange:function(t){return e.handleSingleCheckBox(t)}})),n.a.createElement("th",{scope:"row"},a+1),n.a.createElement("td",{width:"5%"},n.a.createElement(Ie,{src:t.photo?t.photo.photoURI:b.a})),n.a.createElement("td",{width:"15%"},t.name),n.a.createElement("td",{width:"20%"},t.about),n.a.createElement("td",{width:"10%"},t.role),n.a.createElement("td",{width:"15%"},n.a.createElement("a",{href:"mailto:".concat(t.email)},t.email)),n.a.createElement("td",null,new Date(t.created).toDateString()),n.a.createElement("td",null,n.a.createElement("div",{className:t.status?"switch on":"switch off",onClick:e.handleUserStatusChange,"data-index":a},n.a.createElement("div",{className:"switch-toggle",style:{pointerEvents:"none"}}))),n.a.createElement("td",{width:"1%"},n.a.createElement(f.b,{className:"btn btn-sm",to:"/user/edit/".concat(t._id),style:{boxShadow:"unset"}},n.a.createElement(S.a,{icon:C.i,className:"text-primary"}))),n.a.createElement("td",{width:"1%"},n.a.createElement("button",{className:"btn btn-sm",style:{boxShadow:"none"},disabled:y().user._id===t._id,onClick:function(){return e.handleDeleteModal(t._id)}},n.a.createElement(S.a,{icon:C.u,className:" text-danger"}))))})))):null,n.a.createElement(ae,{id:"deleteprofile",title:"Delete Record",body:"Are Your Sure You Want To Delete ?",buttonText:"Delete",show:!0,buttonClick:this.state.checkBox.length>=1?function(){return e.deleteMultiple()}:function(){return e.deleteConfirmed(e.state.deleteId)}}))}}]),a}(r.Component),Ue=function(){var e=Object(m.a)(d.a.mark((function e(t,a){var r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("https://retwit-backend.herokuapp.com","/api/post/").concat(t),{method:"DELETE",headers:{Accept:"application/json","Content-Type":"Application/json",Authorization:"Bearer ".concat(a)}});case 2:return r=e.sent,e.next=5,r.json();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),Te=function(){var e=Object(m.a)(d.a.mark((function e(t,a,r){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("https://retwit-backend.herokuapp.com","/api/post/").concat(t),{method:"PATCH",headers:{Accept:"application/json",Authorization:"Bearer ".concat(a)},body:r});case 2:return n=e.sent,e.next=5,n.json();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(t,a,r){return e.apply(this,arguments)}}(),De=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(c.a)(this,a),(e=t.call(this)).deletePost=function(){var t=Object(m.a)(d.a.mark((function t(a){var r,n;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=y().user.token,t.prev=1,t.next=4,e.props.remove(a,r);case 4:(n=t.sent).data.error?console.log(n.data.error):(e.setState({redirectToHome:!0}),document.getElementById("deleteprofile").style.display="none",document.getElementById("deleteprofile").classList.remove("show")),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}(),e.deleteConfirmed=function(t){e.deletePost(t);var a=document.getElementById(t);a.addEventListener("animationend",(function(){a.parentNode.removeChild(a),a.classList.remove("row-remove")})),a.classList.toggle("row-remove")},e.handleCheckBoxChange=function(t){var a=document.getElementsByName("selectall")[0],r=document.getElementsByName("childchk"),n=[];a.checked?r.forEach((function(e){e.checked=!0,n.push(e.id)})):r.forEach((function(e){e.checked=!1,n=[]})),e.setState({checkBox:n})},e.handleSingleCheckBox=function(t){var a=document.getElementsByName("selectall")[0],r=document.getElementsByName("childchk"),n=[];r.forEach((function(e){var t=n.indexOf(e.id);e.checked?(a.checked=!1,n.push(e.id)):t>-1&&n.splice(t,1)})),e.setState({checkBox:n})},e.handleMulltipleDeleteModal=function(){document.getElementById("deleteprofile").style.display="block",document.getElementById("deleteprofile").classList.add("show")},e.deleteMultiple=function(){var t=e.state.checkBox,a=y().user.token;0===t.length?alert("Please Select Records To Delete."):t.forEach((function(t){Ue(t,a).then((function(a){if(a.isDeleted){e.setState({redirect:!0});var r=document.getElementById(t);r.addEventListener("animationend",(function(){r.parentNode.removeChild(r),r.classList.remove("row-remove")})),r.classList.toggle("row-remove")}else console.log(a.msg)})),document.getElementById("deleteprofile").style.display="none",document.getElementById("deleteprofile").classList.remove("show")}))},e.handlePostStatusChange=function(){var t=Object(m.a)(d.a.mark((function t(a){var r,n,s,o,c;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=new FormData,n=a.target.getAttribute("data-index"),s=e.state.posts[n]._id){t.next=5;break}return t.abrupt("return",!1);case 5:return(o=e.state.posts)[n].status?(o[n].status=!1,r.append("disabledBy",y().user._id)):(o[n].status=!0,r.append("disabledBy","")),r.append("status",o[n].status),t.prev=8,t.next=11,Te(s,y().user.token,r);case 11:(c=t.sent).err?console.log("Error=> ",c.err):e.setState({posts:o,toastPopup:!0,toastType:"success",toastMsg:"Record updated successfully."}),t.next=18;break;case 15:t.prev=15,t.t0=t.catch(8),console.log("ERR IN UPDATING",t.t0);case 18:case"end":return t.stop()}}),t,null,[[8,15]])})));return function(e){return t.apply(this,arguments)}}(),e.toastPopupEnable=function(){e.setState({toastPopup:!1})},e.handleModalValue=function(t){e.setState({deleteId:t})},e.updateSearch=function(t){e.setState({search:t.target.value.substr(0,20)})},e.handleDeleteModal=function(t){e.setState({deleteId:t}),document.getElementById("deleteprofile").style.display="block",document.getElementById("deleteprofile").classList.add("show")},e.state={posts:[],toastPopup:!1,toastType:"",toastMsg:"",checkBox:[],deleteId:"",search:"",isLoading:!0},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=Object(m.a)(d.a.mark((function e(){var t,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=y().user.token,e.prev=1,e.next=4,this.props.list(!0,t);case 4:(a=e.sent).error?console.log(a.data.error):this.setState({posts:a.data.posts,isLoading:!1},(function(){var e=document.createElement("script");e.src="/js/dataTables.js",document.body.appendChild(e)})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0);case 11:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state.posts;return t.length<0||this.state.isLoading?this.state.isLoading&&n.a.createElement(P,null):n.a.createElement("div",{className:"container-fluid m-0 p-0"},n.a.createElement("div",{className:"jumbotron p-3 m-0"},"Total Posts: ",t.length),n.a.createElement("div",{className:"d-flex"},n.a.createElement("button",{className:"btn btn-danger m-2",onClick:this.handleMulltipleDeleteModal},n.a.createElement(S.a,{icon:C.u})," Delete Selected")),n.a.createElement("div",{style:{display:"flex",flexDirection:"column",position:"fixed",bottom:"0",right:"0",zIndex:"111"}}),n.a.createElement("table",{id:"poststable",className:"table table-hover"},n.a.createElement("thead",{className:"thead-dark"},n.a.createElement("tr",null,n.a.createElement("th",{scope:"col",width:"5%"},n.a.createElement("input",{name:"selectall",type:"checkbox",onChange:function(t){return e.handleCheckBoxChange(t)}})),n.a.createElement("th",{scope:"col",style:{width:"10px"}},"No"),n.a.createElement("th",{scope:"col",style:{width:"15px"}},"Image"),n.a.createElement("th",{scope:"col"},"Title"),n.a.createElement("th",{scope:"col"},"Description"),n.a.createElement("th",{scope:"col"},"Author"),n.a.createElement("th",{scope:"col"},"Likes"),n.a.createElement("th",{scope:"col"},"Comments"),n.a.createElement("th",{scope:"col"},"Posted"),n.a.createElement("th",{scope:"col"},"Status"),n.a.createElement("th",{scope:"col",style:{width:"10px"}},"Edit"),n.a.createElement("th",{scope:"col",style:{width:"10px"}},"Delete"))),n.a.createElement("tbody",{className:"bg-dark text-light"},t.map((function(t,a){return n.a.createElement("tr",{id:t._id,className:"table-row"},n.a.createElement("td",null,n.a.createElement("input",{name:"childchk",type:"checkbox",id:t._id,onChange:function(t){return e.handleSingleCheckBox(t)},width:"1%"})),n.a.createElement("td",{scope:"row"},a+1),n.a.createElement("td",null,n.a.createElement(Ie,{src:t.photo?t.photo:E.a})),n.a.createElement("td",null,t.title),n.a.createElement("td",{"data-toggle":"tooltip","data-html":"true","data-placement":"right",title:t.body},t.body.substring(0,10),"..."),n.a.createElement("td",null,t.postedBy.name),n.a.createElement("td",null,t.likes.length),n.a.createElement("td",null," ",t.comments.length),n.a.createElement("td",null," ",new Date(t.created).toDateString()),n.a.createElement("td",null,n.a.createElement("div",{className:t.status?"switch on":"switch off",onClick:e.handlePostStatusChange,"data-index":a},n.a.createElement("div",{className:"switch-toggle",style:{pointerEvents:"none"}}))),n.a.createElement("td",null,n.a.createElement(f.b,{className:"btn btn-sm  ",style:{boxShadow:"unset"},to:"/post/edit/".concat(t._id)},n.a.createElement(S.a,{icon:C.i,className:"text-primary"}))),n.a.createElement("td",null,n.a.createElement("button",{className:"btn btn-sm",onClick:function(){return e.handleDeleteModal(t._id)},style:{boxShadow:"none"}},n.a.createElement(S.a,{icon:C.u,className:"text-danger",color:"green"}))))})))),n.a.createElement(ae,{id:"deleteprofile",title:"Delete Record",body:"Are Your Sure You Want To Delete ?",buttonText:"Delete",buttonClick:this.state.checkBox.length>=1?function(){return e.deleteMultiple()}:function(){return e.deleteConfirmed(e.state.deleteId)},show:!0}))}}]),a}(r.Component),Le=a(262),Me=function(e){var t=e.component,a=e.authUser,r=e.addPost,s=e.fetchPostsByUser,o=e.findPeople,c=e.update,l=e.read,i=e.remove,u=e.fetchMessage,p=e.updateLocalStorage,d=e.changePassword,m=e.replyComment,f=e.editPost,v=e.updatePost,b=e.unfollow,g=e.follow,E=e.fetchPost,w=e.fetchScheduledPosts,k=e.deleteScheduledPost,A=e.fetchScheduledPost,x=e.editScheduledPost,N=Object(Le.a)(e,["component","authUser","addPost","fetchPostsByUser","findPeople","update","read","remove","fetchMessage","updateLocalStorage","changePassword","replyComment","editPost","updatePost","unfollow","follow","fetchPost","fetchScheduledPosts","deleteScheduledPost","fetchScheduledPost","editScheduledPost"]);return n.a.createElement(h.b,Object.assign({},N,{render:function(e){return y()?n.a.createElement(n.a.Fragment,null,n.a.createElement(t,Object.assign({},e,{authUser:a,addPost:r,fetchPostsByUser:s,findPeople:o,update:c,read:l,remove:i,fetchMessage:u,updateLocalStorage:p,changePassword:d,replyComment:m,editPost:f,updatePost:v,unfollow:b,follow:g,fetchPost:E,fetchScheduledPosts:w,deleteScheduledPost:k,fetchScheduledPost:A,editScheduledPost:x}))):n.a.createElement(h.a,{to:{pathname:"/signin",state:{from:e.location}}})}}))},Fe=function(){var e=Object(m.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,U()("".concat("https://retwit-backend.herokuapp.com","/api/newFollowers/user/").concat(y().user._id),{method:"GET",headers:{Accept:"application/json","Content-Type":"Application/json",Authorization:"Bearer ".concat(y().user.token)}});case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Re=function(){var e=Object(m.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,U()("".concat("https://retwit-backend.herokuapp.com","/api/user/newFollowerStatusChange/").concat(y().user._id),{method:"PUT",headers:{Accept:"application/json",Authorization:"Bearer ".concat(y().user.token)},data:{followerId:t}});case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),He=function(){var e=Object(m.a)(d.a.mark((function e(t,a){var r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,U()("".concat("https://retwit-backend.herokuapp.com","/api/user/newLikesStatusChange/").concat(y().user._id),{method:"PUT",headers:{Accept:"application/json",Authorization:"Bearer ".concat(y().user.token)},data:{postId:t,likeId:a}});case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),Je=function(){var e=Object(m.a)(d.a.mark((function e(t,a){var r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,U()("".concat("https://retwit-backend.herokuapp.com","/api/user/newCommentStatusChange/").concat(y().user._id),{method:"PUT",headers:{Accept:"application/json",Authorization:"Bearer ".concat(y().user.token)},data:{postId:t,commenterId:a}});case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),Qe=function(){var e=Object(m.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,U()("".concat("https://retwit-backend.herokuapp.com","/api/new/likeComments/post/by/").concat(y().user._id),{method:"GET",headers:{Accept:"application/json","Content-Type":"Application/json",Authorization:"Bearer ".concat(y().user.token)}});case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ze=function(){var e=Object(m.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,U()("".concat("https://retwit-backend.herokuapp.com","/api/user/messages/").concat(y().user._id),{method:"GET",headers:{Accept:"application/json","Content-Type":"Application/json",Authorization:"Bearer ".concat(y().user.token)}});case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),qe=function(){var e=Object(m.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("https://retwit-backend.herokuapp.com","/api/user/messageStatusChange/").concat(y().user._id),{method:"PUT",headers:{Accept:"application/json",Authorization:"Bearer ".concat(y().user.token)}});case 2:return t=e.sent,e.next=5,t.json();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),We=a(95),Ge=function(){var e=Object(m.a)(d.a.mark((function e(t,a,r){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("https://retwit-backend.herokuapp.com","/api/user/messages"),{method:"POST",headers:{Accept:"application/json","Content-Type":"Application/json",Authorization:"Bearer ".concat(r)},body:JSON.stringify({sender:t,receiver:a})});case 2:return n=e.sent,e.next=5,n.json({messages:n});case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(t,a,r){return e.apply(this,arguments)}}(),Ye=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(e){var r;return Object(c.a)(this,a),(r=t.call(this,e)).handleInputChange=function(e){r.postData.set(e.target.name,e.target.value),r.setState(Object(F.a)({},e.target.name,e.target.value))},r.handleSubmit=function(){var e=Object(m.a)(d.a.mark((function e(t){var a,n,s,o,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,r.setState({errors:{}}),a=r.postData.get("oldPassword"),n=r.postData.get("password"),s=r.postData.get("password_confirmation"),e.next=8,r.props.changePassword({oldPassword:a,password:n,password_confirmation:s},r.props.authUser.token);case 8:(o=e.sent).errors?(c={},o.errors.forEach((function(e){c[e.param]=e.msg})),r.setState({errors:c})):200===o.status&&r.props.history.push("/user/".concat(r.props.authUser._id)),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),r.setState({errors:e.t0});case 15:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t){return e.apply(this,arguments)}}(),r.state={oldPassword:"",password:"",password_confirmation:"",errors:{},responseError:null},r.postData=new FormData,r}return Object(l.a)(a,[{key:"render",value:function(){return n.a.createElement("div",{className:"container bg-dark p-2 my-3 col-md-4"},n.a.createElement("div",{className:"jumbotron text-light",style:{padding:"0.5rem 2rem"}},this.state.responseError&&n.a.createElement(J,{message:this.state.responseError,type:"danger"}),n.a.createElement("h2",null,"Change Password"),n.a.createElement("form",{onSubmit:this.handleSubmit},n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"exampleInputPassword1"},"Old Password"),n.a.createElement("input",{type:"password",name:"oldPassword",onChange:this.handleInputChange,className:"form-control ".concat(this.state.errors.oldPassword&&"is-invalid"),id:"oldPassword"}),this.state.errors.oldPassword&&n.a.createElement("div",{className:"invalid-feedback"},this.state.errors.oldPassword)),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"exampleInputPassword1"},"New Password"),n.a.createElement("input",{type:"password",name:"password",onChange:this.handleInputChange,className:"form-control ".concat(this.state.errors.password&&"is-invalid"),id:"password"}),this.state.errors.password&&n.a.createElement("div",{className:"invalid-feedback"},this.state.errors.password)),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"password_confirmation"},"Confirm Password"),n.a.createElement("input",{type:"password",name:"password_confirmation",onChange:this.handleInputChange,className:"form-control ".concat(this.state.errors.password_confirmation&&"is-invalid"),id:"password_confirmation"}),this.state.errors.password_confirmation&&n.a.createElement("div",{className:"invalid-feedback"},this.state.errors.password_confirmation)),n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col"},n.a.createElement("button",{type:"submit",className:"btn btn-primary"},"Submit"))),n.a.createElement("hr",{className:"my-4"}))))}}]),a}(n.a.Component),Ve=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(c.a)(this,a),(e=t.call(this)).handleDeleteModal=function(t){e.setState({deleteId:t}),document.getElementById("deletepost").style.display="block",document.getElementById("deletepost").classList.add("show")},e.deleteConfirmed=function(t){e.deletePost(t)},e.deletePost=function(){var t=Object(m.a)(d.a.mark((function t(a){var r,n;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.props.authUser.token,t.prev=1,t.next=4,e.props.deleteScheduledPost(a,r);case 4:200===(n=t.sent).status?(e.setState({}),document.getElementById("deletepost").style.display="none",document.getElementById("deletepost").classList.remove("show")):console.log(n.data.error),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}(),e.state={posts:"",deleteId:""},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=Object(m.a)(d.a.mark((function e(){var t,a,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.authUser._id,a=this.props.authUser.token,e.prev=2,e.next=5,this.props.fetchScheduledPosts(t,a);case 5:200===(r=e.sent).status?this.setState({posts:r.data.posts}):this.setState({error:r.data.error}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),console.log(e.t0);case 12:case"end":return e.stop()}}),e,this,[[2,9]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state.posts;return n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"jumbotron-fluid m-4"},n.a.createElement("h1",{className:"display-5 text-light"},"Scheduled Posts")),n.a.createElement("div",{className:"container-fluid"},n.a.createElement("div",null,n.a.createElement("table",{className:"table table-hover"},n.a.createElement("thead",{className:"thead-dark"},n.a.createElement("tr",null,n.a.createElement("th",{scope:"col"},"#"),n.a.createElement("th",{scope:"col"},"Post Title"),n.a.createElement("th",{scope:"col"},"Scheduled Time"),n.a.createElement("th",{scope:"col"},"Action"))),n.a.createElement("tbody",{className:"bg-light"},t&&t.map((function(t,a){return n.a.createElement("tr",{className:"table-row"},n.a.createElement("th",{scope:"row"},a),n.a.createElement("td",null,t.title),n.a.createElement("td",null,K()(t.scheduleTime).format("MMMM Do YYYY, h:mm:ss a")),n.a.createElement("td",null,n.a.createElement(f.b,{to:"/post/scheduledpost/edit/".concat(t._id)},"Edit"),"\xa0\xa0\xa0"," ",n.a.createElement("button",{className:"btn",onClick:function(){return e.handleDeleteModal(t._id)}},n.a.createElement(S.a,{icon:C.u,className:" text-danger"}))))}))))),n.a.createElement(ae,{id:"deletepost",title:"Delete Scheduled Post",body:"Are Your Sure You Want To Delete ?",buttonText:"Delete",buttonClick:function(){return e.deleteConfirmed(e.state.deleteId)},show:!0})))}}]),a}(r.Component),_e=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(e){var r;return Object(c.a)(this,a),(r=t.call(this,e)).handleInputChange=function(e){var t;if("photo"===e.target.name){var a,n,s=[],o=Object(re.a)(e.target.files);try{for(o.s();!(n=o.n()).done;){var c=n.value;s.push(c.size)}}catch(p){o.e(p)}finally{o.f()}for(var l=0,i=Object.keys(e.target.files);l<i.length;l++){var u=i[l];r.postData.append("photo",e.target.files[u])}r.setState((a={},Object(F.a)(a,e.target.name,e.target.files),Object(F.a)(a,"fileSizes",s),a))}else t=e.target.value,r.postData.set(e.target.name,t),r.setState(Object(F.a)({},e.target.name,e.target.value))},r.handleScheduleChange=function(e){var t=new Date(e);r.postData.set("scheduleTime",t),r.setState({postScheduleTime:t})},r.handleSubmit=function(){var e=Object(m.a)(d.a.mark((function e(t){var a,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a=r.state,n=r.props.authUser.token,r.selectedopt.length>0&&r.postData.append("tags",JSON.stringify(r.selectedopt)),e.prev=4,r.setState({errors:{}}),e.next=8,r.props.editScheduledPost(a,r.postData,r.state.id,n);case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(4),r.setState({errors:e.t0});case 13:case"end":return e.stop()}}),e,null,[[4,10]])})));return function(t){return e.apply(this,arguments)}}(),r.onSelect=function(e,t){r.selectedopt.push({id:t._id})},r.onRemove=function(e,t){var a=r.selectedopt.map((function(e){return e.id})).indexOf(t._id);r.selectedopt.splice(a)},r.state={id:"",title:"",body:"",photo:"",fileSizes:[],errors:{},options:[],selectedTags:[],postScheduleTime:""},r.postData=new FormData,r.multiselectRef=n.a.createRef(),r.selectedopt=[],r}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=Object(m.a)(d.a.mark((function e(){var t,a,r,n,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.authUser._id,a=this.props.authUser.token,r=this.props.postId?this.props.postId:this.props.match.params.postId,e.prev=3,e.next=6,this.props.fetchScheduledPost(r);case 6:200===(n=e.sent).status?this.setState({id:n.data._id,title:n.data.title,body:n.data.body,error:"",photo:n.data.photo?n.data.photo:E.a,user:this.props.authUser,options:n.data.following,selectedTags:n.data.tags,postScheduleTime:n.data.scheduleTime}):this.setState({redirectToProfile:!0}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),console.log(e.t0);case 13:return e.prev=13,e.next=16,this.props.read(t,a);case 16:(s=e.sent).err?this.setState({options:[]}):this.setState({options:s.following}),e.next=23;break;case 20:e.prev=20,e.t1=e.catch(13),console.log(e.t1);case 23:case"end":return e.stop()}}),e,this,[[3,10],[13,20]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return n.a.createElement("div",{className:"container"},n.a.createElement("form",{onSubmit:this.handleSubmit},n.a.createElement("div",{className:"form-group text-light"},n.a.createElement("label",{htmlFor:"photo"},"Photo"),n.a.createElement("input",{type:"file",onChange:this.handleInputChange,name:"photo",id:"photo",className:"form-control-file",multiple:!0})),n.a.createElement("div",{className:"form-group text-light"},n.a.createElement("label",{htmlFor:"title"},"Title"),n.a.createElement("input",{type:"text",onChange:this.handleInputChange,name:"title",id:"title",className:"form-control ".concat(this.state.errors.title&&"is-invalid"),value:this.state.title,placeholder:"Title"}),this.state.errors.title&&n.a.createElement("div",{className:"invalid-feedback"},this.state.errors.title)),n.a.createElement("div",{className:"form-group text-light"},n.a.createElement("label",{htmlFor:"body"},"Body"),n.a.createElement("textarea",{className:"form-control ".concat(this.state.errors.body&&"is-invalid"),onChange:this.handleInputChange,name:"body",id:"body",value:this.state.body,rows:3,placeholder:"Enter Body"}),this.state.errors.body&&n.a.createElement("div",{className:"invalid-feedback"},this.state.errors.body)),n.a.createElement("div",{className:"form-group"},n.a.createElement(he.Multiselect,{id:"tags",className:"form-control",ref:this.multiselectRef,options:this.state.options,onSelect:this.onSelect,onRemove:this.onRemove,displayValue:"name",placeholder:"Select Peoples To Tag",emptyRecordMsg:"No People Found",selectedValues:this.state.selectedTags})),n.a.createElement("div",{className:"form-group text-light"},n.a.createElement("label",{htmlFor:""},"Change Scheduled Time"),n.a.createElement("br",null),n.a.createElement(ve.a,{className:"form-control",selected:this.state.postScheduleTime&&new Date(this.state.postScheduleTime),onChange:this.handleScheduleChange,showTimeSelect:!0,timeIntervals:5,timeCaption:"time",dateFormat:"MMMM d, yyyy h:mm a",key:"schedulePost"})),n.a.createElement("button",{className:"btn btn-primary"},"Edit")))}}]),a}(r.Component),Xe=Object(h.g)((function(e){return n.a.createElement("div",null,e.newFollowers&&e.newFollowers.map((function(e,t){return n.a.createElement("span",{className:"noti ",key:t},n.a.createElement("small",{className:"mr-auto"},n.a.createElement(f.b,{to:"/user/".concat(e.id)},n.a.createElement(S.a,{icon:C.v,className:"text-primary"}),"\xa0 \xa0 \xa0",n.a.createElement("span",{className:"font-weight-bold"}," ",e.name),"\xa0 Started Following You.")),n.a.createElement("small",null,"\xa0\xa0",e.followedFrom?n.a.createElement(A.a,{date:e.followedFrom}):null),";\xa0",n.a.createElement("button",{className:"float-right",style:{border:"0px none",backgroundColor:"white"},onClick:function(){return Re(e.id)}},"\xd7"),n.a.createElement("div",{className:"dropdown-divider"}))})),e.newLikes&&e.newLikes.map((function(e,t){return n.a.createElement("span",{className:"noti",key:t,style:{maxWidth:"50px !important"}},n.a.createElement("small",{className:"mr-auto"},n.a.createElement(f.b,{to:"/post/".concat(e.postId)},n.a.createElement(S.a,{icon:C.l,className:"text-danger icon-heart"}),"\xa0 \xa0 \xa0",n.a.createElement("span",{className:"font-weight-bold"},e.name)," ","\xa0Liked Your Post.")),n.a.createElement("small",null,"\xa0\xa0",e.likedFrom&&n.a.createElement(A.a,{date:e.likedFrom})),"\xa0",n.a.createElement("button",{className:"float-right",style:{border:"0px none",backgroundColor:"white"},onClick:function(){return He(e.postId,e.id)}},"\xd7"),n.a.createElement("div",{className:"dropdown-divider"}))})),e.newComments&&e.newComments.map((function(e,t){return n.a.createElement("span",{className:"noti w-100",key:t},n.a.createElement("small",{className:"mr-auto w-50"},n.a.createElement(f.b,{to:"/post/".concat(e.postId)},n.a.createElement(S.a,{icon:C.g,className:"text-secondary"}),"\xa0 \xa0 \xa0",n.a.createElement("span",{className:"font-weight-bold"},e.name),"\xa0 \xa0 Commented On Your Post.")),n.a.createElement("small",null,"\xa0\xa0",e.commentedFrom&&n.a.createElement(A.a,{date:e.commentedFrom})),"\xa0",n.a.createElement("button",{style:{border:"0px none",backgroundColor:"white"},onClick:function(){return Je(e.postId,e.id)}},"\xd7"),n.a.createElement("div",{className:"dropdown-divider"}))})))})),Ze=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(e){var r;return Object(c.a)(this,a),(r=t.call(this,e)).state={hasNewFollow:!1,timer:null,newFollowerList:[],hasNewLikes:!1,newLikesList:[],hasNewComment:!1,newCommentList:[]},r}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=Object(m.a)(d.a.mark((function e(){var t=this;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Fe().then((function(e){401===e.status&&localStorage.removeItem("jwt");var a=[];e.data.length>0&&e.data.forEach((function(e,t){a.push({id:e.user._id,name:e.user.name,followedFrom:e.followedFrom})})),a.length>0&&t.setState({hasNewFollow:!0,newFollowerList:a})}));try{Qe().then((function(e){var a=[],r=[];401!==e.status?e.data.length>0&&e.data.forEach((function(e){e.newLikes.forEach((function(t,r){t.user._id!==y().user._id&&a.push({id:t.user._id,postId:e.postId,name:t.user.name,likedFrom:t.likedFrom})})),console.log(e.newComments),e.newComments.forEach((function(t,a){t.postedBy._id!==y().user._id&&r.push({id:t.postedBy._id,postId:e.postId,name:t.postedBy.name,commentedFrom:t.created})})),(a.length>0||r.length>0)&&t.setState({hasNewComment:!0,newCommentList:r,hasNewLikes:!0,newLikesList:a})})):localStorage.removeItem("jwt")}))}catch(a){console.log(a)}case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return n.a.createElement("li",{className:"nav-item dropdown float-right"},n.a.createElement("a",{className:"nav-link ",href:"/",id:"navbarDropdownMenuLink",role:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},n.a.createElement(S.a,{icon:C.d}),n.a.createElement("span",{className:"badge badge-warning ml-1"},this.state.newFollowerList.length+this.state.newLikesList.length+this.state.newCommentList.length)),n.a.createElement("div",{className:"dropdown-menu dropdown-menu-lg-right noti-toggle"},(this.state.newFollowerList.length>0||this.state.newLikesList.length>0||this.state.newCommentList.length>0)&&n.a.createElement("span",{className:"dropdown-item ",style:{display:"flex",justifyContent:" center"}},n.a.createElement("span",{className:" text-muted text-sm"},n.a.createElement(Xe,{newFollowers:this.state.newFollowerList,newLikes:this.state.newLikesList,k:!0,newComments:this.state.newCommentList})))||n.a.createElement("span",{className:"dropdown-item dropdown-header"},"No Notifications")))}}]),a}(n.a.Component),Ke=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(e){var r;return Object(c.a)(this,a),(r=t.call(this,e)).state={messages:[]},r}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this;ze().then((function(t){401===t.status&&(localStorage.removeItem("jwt"),e.props.history.push("/signin")),t.data.err?console.log(t.data.err):e.setState({messages:t.data})}))}},{key:"render",value:function(){var e=this,t=this.state.messages;return n.a.createElement("li",{className:"nav-item dropdown"},n.a.createElement("a",{className:"nav-link   ",href:"/",id:"navbarDropdownMenuLink",role:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},n.a.createElement(S.a,{icon:C.h}),n.a.createElement("span",{className:"badge badge-danger ml-1"},t.length)),n.a.createElement("div",{className:"dropdown-menu dropdown-menu-lg-right","aria-labelledby":"navbarDropdownMenuLink"},t.length>0&&t.map((function(t,a){return n.a.createElement("button",{className:"dropdown-item",onClick:function(){return e.props.handleOpen(t)},key:a},n.a.createElement("p",{className:" text-primary"},n.a.createElement(S.a,{icon:C.f})," \xa0\xa0 You Have New Message From ",t.users.name))})),0===t.length&&n.a.createElement("button",{className:"dropdown-item"},n.a.createElement("span",{className:"text-dark"},"No Messages"))))}}]),a}(r.Component),$e=function(e,t){return e.location.pathname===t?{color:"#e6cf23"}:{color:"#ffffff"}},et=Object(h.g)((function(e){var t=e.history,a=e.authUser,r=e.handleLogout,s=e.signout,o=e.handleChatOpen;return n.a.createElement("nav",{className:"navbar sticky-top  navbar-expand-lg navbar-dark bg-dark"},a&&"admin"===a.role?n.a.createElement(f.b,{className:"navbar-brand ",to:"/admin/home"},"SocialSynch"):n.a.createElement(f.b,{className:"navbar-brand",to:"/"},"SocialSynch"),n.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarColor01","aria-controls":"navbarColor01","aria-expanded":"false","aria-label":"Toggle navigation"},n.a.createElement("span",{className:"navbar-toggler-icon toggler"})),n.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarColor01"},a&&"admin"===a.role?n.a.createElement(n.a.Fragment,null,n.a.createElement("ul",{className:"navbar-nav mr-auto"},n.a.createElement("li",{className:"nav-item active"},n.a.createElement(f.b,{className:"nav-link",to:"/admin/users",style:$e(t,"/admin/users")},"USERS ",n.a.createElement("span",{className:"sr-only"},"(current)"))),n.a.createElement("li",{className:"nav-item"},n.a.createElement(f.b,{className:"nav-link",to:"/admin/posts",style:$e(t,"/admin/posts")},"POSTS")),n.a.createElement("li",{className:"nav-item"},n.a.createElement(f.b,{className:"nav-link",to:"/user/".concat(a._id),style:$e(t,"/user/".concat(a._id))},"".concat(a.name.toUpperCase()," 'S PROFILE"))),n.a.createElement("li",null,!a&&n.a.createElement(n.a.Fragment,null,n.a.createElement(f.b,{className:"nav-link",to:"/signin",style:$e(t,"/signin")},"SIGN IN"),n.a.createElement(f.b,{className:"nav-link",to:"/signup",style:$e(t,"/signup")},"SIGN UP")))),n.a.createElement("ul",{className:"navbar-nav ml-auto "},a&&"admin"!==a.roll&&n.a.createElement(Ze,{authUser:a}),n.a.createElement("li",{className:"nav-item dropdown profile-btn "},n.a.createElement("a",{className:"nav-link d-flex align-items-center",href:"/",id:"navbarDropdownMenuLink",role:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},n.a.createElement("img",{style:{borderRadius:"50%",height:"30px !important",width:"30px !important"},className:"nav-link  p-0 m-0 ml-1 img-circle float-right ",src:a.photo?a.photo.photoURI:b.a,width:"30px ",height:"30px",onError:function(e){return e.target.src=b.a},alt:"user "}),n.a.createElement("span",null,"\xa0",a.name.toUpperCase())),n.a.createElement("div",{className:"dropdown-menu  dropdown-menu-right","aria-labelledby":"navbarDropdownMenuLink"},n.a.createElement(f.b,{className:"dropdown-item",to:"/user/edit/".concat(a._id)},n.a.createElement(S.a,{icon:C.i})," \xa0 Manage Profile"),n.a.createElement(f.b,{className:"dropdown-item",to:"/user/changepassword/".concat(a._id)},n.a.createElement(S.a,{icon:C.m}),"\xa0 Change Password"),n.a.createElement(f.b,{className:"dropdown-item",to:"/signin",onClick:function(){return s((function(){r()}))}},n.a.createElement(S.a,{icon:C.s})," \xa0 Logout"))))):n.a.createElement(n.a.Fragment,null,n.a.createElement("ul",{className:"navbar-nav mr-auto"},n.a.createElement("li",{className:"nav-item"},n.a.createElement(f.b,{className:"nav-link",to:"/",style:$e(t,"/")},"HOME")),n.a.createElement("li",{className:"nav-item"},n.a.createElement(f.b,{className:"nav-link",to:"/users",style:$e(t,"/users")},"USERS")),n.a.createElement("li",{className:"nav-item"},n.a.createElement(f.b,{className:"nav-link",to:"/post/create",style:$e(t,"/post/create")},"CREATE POST")),!a&&n.a.createElement(n.a.Fragment,null,n.a.createElement("li",{className:"nav-item"},n.a.createElement(f.b,{className:"nav-link  active",to:"/signin",style:$e(t,"/signin")},"SIGN IN")),n.a.createElement("li",{className:"nav-item"},n.a.createElement(f.b,{className:"nav-link",to:"/signup",style:$e(t,"/signup")},"SIGN UP"))),a&&n.a.createElement(n.a.Fragment,null,n.a.createElement("li",{className:"nav-item"},n.a.createElement(f.b,{className:"nav-link",to:"/findpeople/".concat(a._id),style:$e(t,"/findpeople/".concat(a._id))},"FIND FRIENDS")),n.a.createElement("li",{className:"nav-item"},n.a.createElement(f.b,{className:"nav-link",to:"/user/".concat(a._id),style:$e(t,"/user/".concat(a._id))},"".concat(a.name.toUpperCase(),"'S PROFILE"))))),a?n.a.createElement("ul",{className:"navbar-nav ml-auto nav-mobile "},a&&"admin"!==a.roll&&n.a.createElement(n.a.Fragment,null,n.a.createElement(Ke,{handleOpen:o,history:t}),n.a.createElement(Ze,{authUser:a})),n.a.createElement("li",{className:"nav-item dropdown"},n.a.createElement("a",{className:"nav-link ",href:"/",id:"navbarDropdownMenuLink",role:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},n.a.createElement("img",{style:{borderRadius:"50%"},className:"nav-link  p-0 m-0 ml-1 img-circle float-right ",src:a.photo?a.photo.photoURI:b.a,width:"30px",height:"30px",onError:function(e){return e.target.src=b.a},alt:"user "})),n.a.createElement("div",{className:"dropdown-menu  dropdown-menu-right","aria-labelledby":"navbarDropdownMenuLink"},n.a.createElement(f.b,{className:"dropdown-item",to:"/user/edit/".concat(a._id)},n.a.createElement(S.a,{icon:C.i}),"\xa0 Manage Profile"),n.a.createElement(f.b,{className:"dropdown-item",to:"/user/changepassword/".concat(a._id)},n.a.createElement(S.a,{icon:C.m})," \xa0 Change Password"),n.a.createElement(f.b,{className:"dropdown-item",to:"/post/scheduledposts/".concat(a._id)},n.a.createElement(S.a,{icon:C.e}),"\xa0 \xa0 Scheduled Posts"),n.a.createElement(f.b,{className:"dropdown-item",to:"/signin",onClick:function(){return s((function(){r()}))}},n.a.createElement(S.a,{icon:C.s}),"\xa0 \xa0 Logout")))):null)))})),tt=(a(259),function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(e){var r;return Object(c.a)(this,a),(r=t.call(this,e)).handleChatClose=function(){r.setState({hasNewMsg:!1})},r.handleChatOpen=function(e){r.setState({hasNewMsg:!0,receiverId:e._id,receiverName:e.users?e.users.name:e.name}),qe().then((function(e){return console.log(e)})).catch()},r.handleLogout=function(){r.setState({authUser:null})},r.handleAuthUserUpdate=function(){r.setState({authUser:y().user})},r.onMsg=function(){var e=document.getElementById("chatbar");e.style.display="block",e.classList.remove("close-chatbar"),document.getElementById("floating-btn").style.display="none"},r.state={hasNewMsg:!1,receiverId:null,receiverName:null,messages:null,authUser:y().user||null,isAuthorized:null,onlineUsers:[]},r.socket=_()("https://retwit-backend.herokuapp.com"),r.notify=void 0,r}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=Object(m.a)(d.a.mark((function e(){var t,a=this;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.state.authUser){e.next=12;break}return this.socket.on(this.state.authUser._id,(function(e){console.log("mew message",e),a.notify=new Notification("New Message From ".concat(e.senderName,"."),{body:e.message,icon:e.senderPhotoUri}),Ge(a.state.authUser._id,e.sender,a.state.authUser.token).then((function(t){console.log("result",t),a.notify.onclick=function(){a.setState({hasNewMsg:!0,receiverId:e.sender,receiverName:e.senderName,messages:t})}})).catch((function(e){e&&console.log("Error while fetching record")}))})),e.prev=2,e.next=5,this.props.Userservice.getOnlineUsers(this.state.authUser._id,this.state.authUser.token);case 5:(t=e.sent).data.error?console.log(t.data.error):this.setState({onlineUsers:t.data[0].following}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),this.setState({error:e.t0});case 12:case"end":return e.stop()}}),e,this,[[2,9]])})));return function(){return e.apply(this,arguments)}}()},{key:"componentWillMount",value:function(){var e=this;this.state.authUser&&(this.timeDiffCalc(new Date(y().user.lastLoggedIn),Date.now())>=1&&this.setState({authUser:null,isAuthorized:!1},(function(){localStorage.removeItem("jwt"),e.props.history.push("/signin")})))}},{key:"timeDiffCalc",value:function(e,t){var a=Math.abs(e-t)/1e3;a-=86400*Math.floor(a/86400);var r=Math.floor(a/3600)%24;a-=3600*r,a-=60*(Math.floor(a/60)%60);return"".concat(r),r}},{key:"render",value:function(){var e=this;return n.a.createElement("div",null,this.state.hasNewMsg&&n.a.createElement("div",{id:"chat-tab",className:" d-flex justify-content-end align-items-end chat-box"},n.a.createElement(te,{senderId:this.state.authUser._id,senderName:this.state.authUser.name,receiverId:this.state.receiverId,receiverName:this.state.receiverName,messages:this.state.messages,handleChatBoxDisplay:this.handleChatClose,authUser:this.state.authUser,fetchMessage:this.props.Userservice.fetchMessage})),n.a.createElement(ie.a,null),n.a.createElement(et,{authUser:this.state.authUser,handleLogout:this.handleLogout,signout:this.props.Authservice.signout,handleChatOpen:this.handleChatOpen}),n.a.createElement(pe,{data:this.state.onlineUsers,handleOpen:this.handleChatOpen}),this.state.authUser&&n.a.createElement("button",{id:"floating-btn",className:"floating-btn",onClick:this.onMsg},n.a.createElement(S.a,{icon:C.p,className:"anim-icon"})),n.a.createElement(h.d,null,n.a.createElement(h.b,{path:"/",exact:!0,component:M}),n.a.createElement(h.b,{exact:!0,path:"/admin/posts",render:function(){return n.a.createElement(De,{updatePost:e.props.Postservice.editPost,list:e.props.Postservice.fetchPosts,remove:e.props.Postservice.deletePost})}}),n.a.createElement(h.b,{exact:!0,path:"/admin/users",render:function(){return n.a.createElement(Be,{remove:e.props.Userservice.remove,list:e.props.Userservice.getAll,update:e.props.Userservice.update})}}),n.a.createElement(Me,{exact:!0,path:"/admin/home",component:Pe}),n.a.createElement(Me,{exact:!0,path:"/admin",component:Pe}),n.a.createElement(h.b,{exact:!0,path:"/forgot-password",component:xe}),n.a.createElement(h.b,{exact:!0,path:"/reset-password/:resetPasswordToken",render:function(){return n.a.createElement(Ne,{resetPassword:e.props.Authservice.resetPassword})}}),n.a.createElement(Me,{path:"/post/create",exact:!0,component:Ee,authUser:this.state.authUser,addPost:this.props.Postservice.addPost,read:this.props.Userservice.read}),n.a.createElement(h.b,{path:"/post/:postId",exact:!0,render:function(t){return n.a.createElement(Ae,Object.assign({},t,{fetchPost:e.props.Postservice.fetchPost,deletePost:e.props.Postservice.deletePost,editPost:e.props.Postservice.editPost,likePost:e.props.Postservice.likePost,unlikePost:e.props.Postservice.unlikePost,addComment:e.props.Postservice.addComment,removeComment:e.props.Postservice.removeComment,replyComment:e.props.Postservice.commentReply,authUser:e.state.authUser,read:e.props.Userservice.read}))}}),n.a.createElement(Me,{path:"/post/edit/:postId",exact:!0,component:ke,authUser:this.state.authUser,editPost:this.props.Postservice.editPost,fetchPost:this.props.Postservice.fetchPost,read:this.props.Userservice.read}),n.a.createElement(h.b,{path:"/users",exact:!0,render:function(t){return n.a.createElement(me,Object.assign({},t,{authUser:e.state.authUser,getAll:e.props.Userservice.getAll}))}}),n.a.createElement(h.b,{path:"/signup",exact:!0,render:function(t){return n.a.createElement(Q,Object.assign({},e.props,{registerUser:e.props.Authservice.registerUser}))}}),n.a.createElement(h.b,{path:"/signin",exact:!0,render:function(t){return n.a.createElement(G,Object.assign({handleAuthUserUpdate:e.handleAuthUserUpdate},e.props,{loginUser:e.props.Authservice.loginUser,socialLogin:e.props.Authservice.socialLogin,authenticate:e.props.Authservice.authenticate}))}}),n.a.createElement(Me,{path:"/user/edit/:userId",exact:!0,component:ne,update:this.props.Userservice.update,read:this.props.Userservice.read,updateLocalStorage:this.props.Userservice.updateLocalStorage}),n.a.createElement(Me,{path:"/findpeople/:userId",exact:!0,component:ue,findPeople:this.props.Userservice.findPeople,follow:this.props.Userservice.follow}),n.a.createElement(Me,{path:"/user/:userId",authUser:this.state.authUser,exact:!0,component:ce,fetchPostsByUser:this.props.Postservice.fetchPostsByUser,update:this.props.Userservice.update,read:this.props.Userservice.read,remove:this.props.Userservice.remove,fetchMessage:this.props.Userservice.fetchMessage,updateLocalStorage:this.props.Userservice.updateLocalStorage,listByUser:this.props.Postservice.listByUser,updatePost:this.props.Postservice.editPost,unfollow:this.props.Userservice.unfollow,follow:this.props.Userservice.follow}),n.a.createElement(Me,{path:"/user/changepassword/:userId",authUser:this.state.authUser,exact:!0,component:Ye,read:this.props.Userservice.read,changePassword:this.props.Authservice.changePassword}),n.a.createElement(Me,{path:"/post/scheduledposts/:userId",exact:!0,component:Ve,fetchScheduledPosts:this.props.Postservice.fetchScheduledPosts,authUser:this.state.authUser,deleteScheduledPost:this.props.Postservice.deleteScheduledPost}),n.a.createElement(Me,{path:"/post/scheduledpost/edit/:postId",exact:!0,component:_e,authUser:this.state.authUser,editScheduledPost:this.props.Postservice.editScheduledPost,fetchScheduledPost:this.props.Postservice.fetchScheduledPost,read:this.props.Userservice.read})))}}]),a}(n.a.Component)),at=Object(h.g)(tt),rt=function(){function e(){Object(c.a)(this,e)}return Object(l.a)(e,[{key:"loginUser",value:function(){var e=Object(m.a)(d.a.mark((function e(t){var a,r,n,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={email:"required|email|string",password:"required|string"},r={required:"{{field}} field is required.","email.email":"Enter a Valid Email."},e.prev=2,e.next=5,Object(I.validateAll)(t,a,r);case 5:return e.next=7,U()("".concat("https://retwit-backend.herokuapp.com","/api/signin"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},data:JSON.stringify({email:t.email,password:t.password})});case 7:return n=e.sent,Notification.requestPermission().then((function(e){})),e.abrupt("return",n);case 12:if(e.prev=12,e.t0=e.catch(2),!e.t0.response||422!==e.t0.response.status){e.next=18;break}return e.abrupt("return",{statusCode:e.t0.response.status,msg:e.t0.response.data.error});case 18:return s={},e.t0.forEach((function(e){s[e.field]=e.message})),e.abrupt("return",Promise.reject(s));case 21:case"end":return e.stop()}}),e,null,[[2,12]])})));return function(t){return e.apply(this,arguments)}}()},{key:"registerUser",value:function(){var e=Object(m.a)(d.a.mark((function e(t){var a,r,n,s,o;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={name:"required|alpha",email:"required|email|string",password:"required|string|confirmed|min:5",password_confirmation:"required|string"},r={required:"{{field}} Field is Required.","email.email":"Enter a Valid Email.","password.confirmed":"Password Does Not Matched."},e.prev=2,e.next=5,Object(I.validateAll)(t,a,r);case 5:return n={name:t.name,email:t.email,password:t.password,dob:t.dob},e.next=8,U()("".concat("https://retwit-backend.herokuapp.com","/api/signup"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},data:JSON.stringify(n)});case 8:return s=e.sent,e.abrupt("return",s);case 12:if(e.prev=12,e.t0=e.catch(2),!e.t0.response||403!==e.t0.response.status){e.next=18;break}return e.abrupt("return",{statusCode:e.t0.response.status,msg:e.t0.response.data.error});case 18:return o={},e.t0.forEach((function(e){o[e.field]=e.message})),e.abrupt("return",Promise.reject(o));case 21:case"end":return e.stop()}}),e,null,[[2,12]])})));return function(t){return e.apply(this,arguments)}}()},{key:"signout",value:function(){var e=Object(m.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=y().user.token,e.abrupt("return",U()("".concat("https://retwit-backend.herokuapp.com","/api/signout"),{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(a)}}).then((function(e){return"undefined"!==typeof window&&200===e.status&&localStorage.removeItem("jwt"),t(),e})).catch((function(e){return console.log(e)})));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"changePassword",value:function(){var e=Object(m.a)(d.a.mark((function e(t,a){var r,n,s,o,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={oldPassword:"required|string",password:"required|string|confirmed|min:6",password_confirmation:"required|string"},n={required:"{{field}} Field is Required.","password.confirmed":"Password Does Not Matched."},e.prev=2,e.next=5,Object(I.validateAll)(t,r,n);case 5:return s={oldPassword:t.oldPassword,password:t.password,password_confirmation:t.password_confirmation},e.next=8,U()("".concat("https://retwit-backend.herokuapp.com","/api/changePassword"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(a)},data:JSON.stringify(s)});case 8:return o=e.sent,e.abrupt("return",o);case 12:if(e.prev=12,e.t0=e.catch(2),!e.t0.response||200===e.t0.response.status){e.next=18;break}return e.abrupt("return",{statusCode:e.t0.response.status,msg:e.t0.response.data.message});case 18:return c={},e.t0.forEach((function(e){c[e.field]=e.message})),e.abrupt("return",Promise.reject(c));case 21:case"end":return e.stop()}}),e,null,[[2,12]])})));return function(t,a){return e.apply(this,arguments)}}()},{key:"authenticate",value:function(){var e=Object(m.a)(d.a.mark((function e(t,a){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:"undefined"!==typeof window&&(localStorage.setItem("jwt",JSON.stringify(t)),a());case 1:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"resetPassword",value:function(){var e=Object(m.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,U()("".concat("https://retwit-backend.herokuapp.com","/api/reset-password/"),{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json"},data:JSON.stringify(t)});case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"socialLogin",value:function(){var e=Object(m.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,U()("".concat("https://retwit-backend.herokuapp.com","/api/social-login/"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},data:JSON.stringify(t)});case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),nt=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"read",value:function(){var e=Object(m.a)(d.a.mark((function e(t,a){var r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,U()("".concat("https://retwit-backend.herokuapp.com","/api/user/").concat(t),{method:"GET",headers:{Accept:"application/json","Content-Type":"Application/json",Authorization:"Bearer ".concat(a)}});case 3:return r=e.sent,e.abrupt("return",r);case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,a){return e.apply(this,arguments)}}()},{key:"getAll",value:function(){var e=Object(m.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,U()("".concat("https://retwit-backend.herokuapp.com","/api/users"),{method:"GET",headers:{Authorization:"Bearer ".concat(t)}});case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"remove",value:function(){var e=Object(m.a)(d.a.mark((function e(t,a){var r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,U()("".concat("https://retwit-backend.herokuapp.com","/api/user/").concat(t),{method:"DELETE",headers:{Accept:"application/json","Content-Type":"Application/json",Authorization:"Bearer ".concat(a)}});case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"update",value:function(){var e=Object(m.a)(d.a.mark((function e(t,a,r){var n,s,o,c,l,i,u,p;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n={},s={},o=Object(re.a)(r.keys());try{for(o.s();!(c=o.n()).done;)l=c.value,n[l]=r.get(l),s[l]="required"}catch(d){o.e(d)}finally{o.f()}return i={required:"{{field}} Field is Required."},e.prev=5,e.next=8,Object(I.validateAll)(n,s,i);case 8:return e.next=10,U()("".concat("https://retwit-backend.herokuapp.com","/api/user/").concat(t),{method:"PUT",headers:{Accept:"application/json",Authorization:"Bearer ".concat(a)},data:r});case 10:if(!(u=e.sent).error){e.next=15;break}return e.abrupt("return",Promise.reject(u.error));case 15:return e.abrupt("return",u);case 16:e.next=23;break;case 18:return e.prev=18,e.t0=e.catch(5),p={},e.t0.forEach((function(e){p[e.field]=e.message})),e.abrupt("return",Promise.reject(p));case 23:case"end":return e.stop()}}),e,null,[[5,18]])})));return function(t,a,r){return e.apply(this,arguments)}}()},{key:"updateLocalStorage",value:function(){var e=Object(m.a)(d.a.mark((function e(t,a){var r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:"undefined"!=typeof window&&JSON.parse(localStorage.getItem("jwt")).user&&((r=JSON.parse(localStorage.getItem("jwt"))).user=Object(We.a)({token:r.user.token},t),localStorage.setItem("jwt",JSON.stringify(r)),a());case 1:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"follow",value:function(){var e=Object(m.a)(d.a.mark((function e(t,a,r){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,U()("".concat("https://retwit-backend.herokuapp.com","/api/user/follow/").concat(t),{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(a)},data:JSON.stringify({userId:t,followId:r})});case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t,a,r){return e.apply(this,arguments)}}()},{key:"unfollow",value:function(){var e=Object(m.a)(d.a.mark((function e(t,a,r){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,U()("".concat("https://retwit-backend.herokuapp.com","/api/user/unfollow/").concat(t),{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(a)},data:JSON.stringify({userId:t,unfollowId:r})});case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t,a,r){return e.apply(this,arguments)}}()},{key:"findPeople",value:function(){var e=Object(m.a)(d.a.mark((function e(t,a){var r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,U()("".concat("https://retwit-backend.herokuapp.com","/api/user/findpeople/").concat(t),{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(a)}});case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"fetchMessage",value:function(){var e=Object(m.a)(d.a.mark((function e(t,a,r){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,U()("".concat("https://retwit-backend.herokuapp.com","/api/user/messages"),{method:"POST",headers:{Accept:"application/json","Content-Type":"Application/json",Authorization:"Bearer ".concat(r)},data:JSON.stringify({sender:t,receiver:a})});case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t,a,r){return e.apply(this,arguments)}}()},{key:"getOnlineUsers",value:function(){var e=Object(m.a)(d.a.mark((function e(t,a){var r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,U()("".concat("https://retwit-backend.herokuapp.com","/api/user/getonline/").concat(t),{method:"get",headers:{Accept:"application/json","Content-Type":"Application/json",Authorization:"Bearer ".concat(a)}});case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()}]),a}(r.Component),st=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(e){var r;return Object(c.a)(this,a),(r=t.call(this,e)).state={logginStatus:!0,warn:!1},r}return Object(l.a)(a,[{key:"logout",value:function(){y()&&(document.location.reload(),function(e){var t=y().user.token;fetch("".concat("https://retwit-backend.herokuapp.com","/api/signout"),{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(t)}}).then((function(t){return"undefined"!==typeof window&&localStorage.removeItem("jwt"),e(),t.json()})).catch((function(e){return console.log(e)}))}((function(){})),this.setState({logginStatus:!1}))}},{key:"render",value:function(){return n.a.createElement(f.a,null,n.a.createElement(at,Object.assign({Authservice:new rt,Postservice:new T,Userservice:new nt},this.props)),this.state.logginStatus?null:n.a.createElement(h.a,{to:"/signin"}))}}]),a}(r.Component);a(644);o.a.render(n.a.createElement(st,null),document.getElementById("root"))}},[[263,1,2]]]);
//# sourceMappingURL=main.6f8a66c6.chunk.js.map